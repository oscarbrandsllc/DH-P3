/* Rank suffix variant styling - allow per-context tuning */

/* KTC rank in player cards */
/* KTC rank in player cards */
.stat-rank-variant-ktc {
  display: inline-flex;
  align-items: center; /* keep suffix vertically aligned with number */
  gap: 0; /* parentheses should hug the rank */
}
.player-ktc-wrapper.has-rank-annotation .stat-rank-annotation {
  margin-left: 0; /* no space between the KTC value and rank */
}
.player-ktc-wrapper .value,
.player-ppg-wrapper .value {
  margin-left: 0.03rem; /* subtle spacing between label and value */
}
.stat-rank-variant-ktc .stat-rank-number {
  margin: 0; /* keep number tight to suffix */
  padding: 0;
}
.stat-rank-variant-ktc .stat-rank-suffix-ktc {
  font-size: 0.9em !important; /* slightly smaller inline suffix */
  line-height: 1;
  margin-left: 0; /* no gap between number and suffix */
  padding-left: 0;
}

    







/* · ·  Preview Button • Ctrl Button  · · */
        .control-button {
            padding: 0.29rem 0.6rem;
            font-size: 0.8rem;
            font-weight: 500;
            border: 1px solid var(--color-panel-border);  /* EDITED: Increased transparency */
            background: linear-gradient(to bottom, rgba(0,0,0,0.01), rgba(0,0,0,0.1))!important;
            box-shadow: inset 0 1px 1px rgba(255,255,255,0.05);
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s ease;
            white-space: nowrap;
            color: var(--color-text-secondary);
        }
        #compareButton {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            margin-right: 4px;
        }
        .control-button.glow-on-select {
            box-shadow: 0 0 8px #7300ff;
            color: #eeeeee;
            border: 1px solid #4E00DA;
        }

    /* · · Show All Button · · */
        .control-button.active {
            color: #BDC1D8ca;
            border: 1px solid #833fff39;
            box-shadow: inset 0 0 10px #7310ff29, 0 0 3px #7310ff40;
            text-shadow:
                0 0 3px rgba(43, 0, 255, 0.5),
                0 0 5px rgba(73, 0, 255, 0.2);
        }

        .control-button:disabled {
            background: linear-gradient(to bottom, rgba(0,0,0,0.01), rgba(0,0,0,0.1))!important;
            box-shadow: inset 0 1px 2px rgba(200,200,200,0.08) !important;
            color: var(--color-text-tertiary) !important;
            cursor: not-allowed;
            border-color: var(--color-panel-border) !important;
        }
        .control-button-subtle {
            background: none;
            border: none;
            color: #5F679572;
            text-decoration: underline;
            font-size: 0.75rem;
            cursor: pointer;
            padding: 0;
            transition: color 0.2s ease;
        }

        .control-button-subtle.active {
            color: var(--color-text-secondary);
        }


    /*  Show All Button cont.. */

        #compareButton.compare-show-all {
            align-items: center;
            justify-content: center;
        }

        #compareButton .compare-show-all-stack {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            line-height: 1;
            gap: 0;
            padding-top: 0px !important;
            padding-bottom: 0px !important;
        }

        #compareButton .compare-show-all-icon {
            display: block;
            margin: 0;
            font-size: 1.25rem;
            line-height: 1;
        }

        #compareButton .compare-show-all-label {
            display: block;
            margin: -2px 0 0 0;
            font-size: 0.5rem;
            font-weight: 300;
            line-height: 1;
        }

.app-header.preview-active #primary-header-row,
.app-header.preview-active #secondary-header-row {
  display: none !important;
}

@media (min-width: 869px) {
  body[data-page="rosters"] #header-container .app-header.preview-active {
    --roster-desktop-gap: 0.75rem;
    --roster-desktop-field-width: 113px;
    --roster-desktop-max: min(calc(100vw - 3rem), 1060px);
    --roster-preview-gap: clamp(0.4rem, 1.2vw, 0.7rem);
    display: grid;
    grid-template-columns: var(--roster-desktop-field-width) repeat(5, auto);
    grid-template-rows: auto auto;
    column-gap: var(--roster-desktop-gap);
    row-gap: 0.85rem;
    align-items: center;
    justify-content: center;
    padding: 0.9rem 1.15rem 0.21rem;
    margin: 0 auto;
    width: fit-content;
    max-width: var(--roster-desktop-max);
  }

  body[data-page="rosters"] .app-header.preview-active #primary-header-row {
    display: none !important;
  }

  body[data-page="rosters"] .app-header.preview-active #contextual-controls {
    display: contents !important;
  }

  body[data-page="rosters"] .app-header.preview-active #contextual-controls .header-row {
    display: contents !important;
  }

  body[data-page="rosters"] .app-header.preview-active #secondary-header-row {
    display: contents !important;
  }

  body[data-page="rosters"] .app-header.preview-active #filters-row {
    display: contents !important;
  }

  body[data-page="rosters"] .app-header.preview-active #secondary-header-row .username-area,
  body[data-page="rosters"] .app-header.preview-active #secondary-header-row .custom-select-wrapper {
    display: none !important;
  }

  body[data-page="rosters"] .app-header.preview-active .view-switcher {
    grid-column: 1;
    grid-row: 1;
    justify-self: flex-start;
    margin-left: 0;
  }

  body[data-page="rosters"] .app-header.preview-active .secondary-switcher {
    margin-left: 0;
  }

  body[data-page="rosters"] .app-header.preview-active .start-sit-button-slot {
    grid-column: 2;
    grid-row: 1;
    justify-self: flex-start;
    margin: 0;
  }

  body[data-page="rosters"] .app-header.preview-active .start-sit-button-container {
    flex: 0 0 auto !important;
  }

  body[data-page="rosters"] .app-header.preview-active .filters-container {
    grid-column: 3;
    grid-row: 1;
    display: contents !important;
  }

  body[data-page="rosters"] .app-header.preview-active #positional-filters {
    grid-column: 3;
    grid-row: 1;
    display: flex;
    align-items: center;
    gap: 0.35rem;
    margin: 0;
    justify-content: flex-start;
    min-width: 0;
  }

  body[data-page="rosters"] .app-header.preview-active #clearFiltersButton {
    grid-column: 4;
    grid-row: 1;
    margin: 0;
    justify-self: flex-start;
  }

  body[data-page="rosters"] .app-header.preview-active .compare-controls {
    grid-column: 5;
    grid-row: 1;
    display: flex;
    align-items: center;
    gap: 0.4rem;
    position: static;
    margin-left: 0;
    justify-self: flex-end;
  }
}
/* Welcome page: enforce uniform control heights and tighter mobile spacing */
body[data-page="welcome"] {
  /* single source of truth for header control sizing on the welcome page */
  --welcome-header-control-height: 36px; /* slightly smaller for a tighter header */
}

/* Make menu slot, username area and enter control share a single height */
body[data-page="welcome"] #primary-header-row .menu-container,
body[data-page="welcome"] .username-area,
body[data-page="welcome"] .enter-button,
body[data-page="welcome"] .menu-button,
body[data-page="welcome"] .home-menu-slot {
  height: var(--welcome-header-control-height) !important;
  min-height: var(--welcome-header-control-height) !important;
  display: inline-flex !important;
  align-items: center !important;
}

/* Ensure the input fills the shared height and has balanced paddings */
body[data-page="welcome"] #usernameInput {
  height: var(--welcome-header-control-height) !important;
  padding-top: 0.18rem !important;
  padding-bottom: 0.18rem !important;
  padding-left: 0.6rem !important;
  padding-right: 0.6rem !important;
  border-radius: 8px;
  box-sizing: border-box;
  font-size: 17px !important;
}

/* Keep the enter button vertically centered and same height */
body[data-page="welcome"] .enter-button {
  height: var(--welcome-header-control-height) !important;
  min-height: var(--welcome-header-control-height) !important;
  align-items: center;
}

/* Reduce vertical gap on small screens so elements sit closer */
@media (max-width: 520px) {
  body[data-page="welcome"] #primary-header-row {gap: 0.65rem !important;}
  body[data-page="welcome"] .nav-buttons-container { gap: 0.25rem !important; }
}

/* Small tweak: ensure the hamburger/menu button matches sizing */
body[data-page="welcome"] .menu-button,
body[data-page="welcome"] #homeMenuToggle {
  height: 100% !important;
  width: 40px !important; /* fixed square for consistent visual */
  min-width: 40px !important;
  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;
}

/* Make the enter label a touch-friendly height on mobile while keeping it short */
body[data-page="welcome"] .enter-label { line-height: 1; }

/* ⬇︎ ROSTER VIEW  ⬇︎ */
        #rosterContainer { 
            padding: 1px;
        }
        #rosterGrid { 
            display: flex; 
            flex-direction: row; 
            flex-wrap: nowrap; 
            gap: 2px;
            min-width: min-content; 
            padding-bottom: 1rem; /* For scrollbar clearance */
            justify-content: center;
        }
        #rosterGrid.is-preview-mode {
            justify-content: center;
        }
        #rosterGrid.start-sit-mode {
            gap: 0.04rem;
            justify-content: center;
        }
        .start-sit-column {
            width: 126px;
            display: flex;
            flex-direction: column;
            align-items: stretch;
            --start-sit-accent: var(--color-accent-primary);
            --start-sit-border: rgba(118, 109, 255, 0.55);
            --start-sit-glow: rgba(118, 109, 255, 0.35);
            --start-sit-card-glow: rgba(118, 109, 255, 0.16);
        }
        .roster-column.start-sit-column {
            gap: 0.03rem;
        }
        .start-sit-column[data-position="QB"] {
            --start-sit-accent: var(--pos-qb);
            --start-sit-border: #FF3A7599;
            --start-sit-glow: rgba(255, 58, 117, 0.35);
            --start-sit-card-glow: rgba(255, 58, 117, 0.15);
        }
        .start-sit-column[data-position="RB"] {
            --start-sit-accent: var(--pos-rb);
            --start-sit-border: #00EBC799;
            --start-sit-glow: rgba(0, 235, 199, 0.35);
            --start-sit-card-glow: rgba(0, 235, 199, 0.14);
        }
        .start-sit-column[data-position="WR"] {
            --start-sit-accent: var(--pos-wr);
            --start-sit-border: #58A7FF99;
            --start-sit-glow: rgba(88, 167, 255, 0.35);
            --start-sit-card-glow: rgba(88, 167, 255, 0.14);
        }
        .start-sit-column[data-position="TE"] {
            --start-sit-accent: var(--pos-te);
            --start-sit-border: #B469FF99;
            --start-sit-glow: rgba(180, 105, 255, 0.35);
            --start-sit-card-glow: rgba(180, 105, 255, 0.16);
        }
        .start-sit-column-shell {
            display: flex;
            flex-direction: column;
            border-radius: 10px;
            overflow: hidden;
            padding: 0.08rem;
        }
        .start-sit-pos-header {
            width: calc(100% - 0.16rem);
            margin: 2px auto 0rem;
            font-size: 0.78rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.6px;
            text-align: center;
            color: var(--start-sit-accent);
            padding: 0.2rem 0;
            border: 1px solid var(--start-sit-border);
            border-radius: 8px;
            box-shadow: inset 0 0 11px var(--start-sit-glow);
        }
        .start-sit-card {
            padding: 0.16rem 0.08rem 0.12rem;
            gap: 0.12rem;
            border-radius: 8px;
        }
        .start-sit-empty {
            color: var(--color-text-tertiary);
            font-size: 0.75rem;
            font-style: italic;
            text-align: center;
            padding: 0.4rem 0.2rem;
        }
        .start-sit-container .trade-header {
            background: linear-gradient(120deg, rgba(118, 109, 255, 0.14), rgba(0, 235, 199, 0.08));
        }
        .start-sit-chip {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0.16rem 0.1rem;
            width: 100%;
            padding: 2px 2px !important;
            background: rgba(255, 255, 255, 0.01) !important;
        }
        .start-sit-chip-body {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.25rem;
        }
        .start-sit-name {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.28rem;
            font-weight: 600;
            font-size: 0.86rem;
            color: var(--color-text-primary);
            text-align: center;
            line-height: 1;
        }
        .start-sit-inline-tag {
            flex-shrink: 0;
            padding: 0.08rem 0.32rem;
            font-size: 0.68rem;
            line-height: 1;
        }
        .start-sit-name-text {
            white-space: normal;
            text-align: center;
            font-size: 0.83rem;
            white-space: nowrap;
        }
.start-sit-metric {
    display: inline-flex;
    align-items: baseline;
    justify-content: center;
    gap: 0.135rem;
    font-size: 0.74rem;
    text-align: center;
    font-weight: 600;
    line-height: 1;
}
.start-sit-metric-value {
    color: var(--color-text-mid-test1);
}
.start-sit-metric-unit {
    color: #9296a3;
    font-size: 0.65rem;
}
.start-sit-metric-sep {
    color: var(--color-text-tertiary);
    font-size: 0.7rem;
    margin: 0 0.25rem;
}
.start-sit-rank {
  display: inline-block;
    align-items: center;
    gap: 0;
    font-size: 0.75rem;
    color: inherit;
    line-height: 1;
}

/* Small week label for Start/Sit preview (attached to the label) */
.start-sit-week {
  font-size: 0.82rem; /* slightly smaller than the H3 */
  color: var(--color-text-secondary);
  margin-left: 0.41rem;
  margin-right: 0.18rem;
}
.start-sit-rank-pos,
.start-sit-rank-number,
.start-sit-rank-dot {
    display: inline-block;
    line-height: 1;
}
.start-sit-rank-dot {
    margin: 0;
    padding: 0;
}
.start-sit-rank-pos {
    font-size: 0.65rem;
}
        .start-sit-preview-column {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            gap: 0.42rem !important;
            padding: 0.12rem 0.2rem 0;
        }
        .start-sit-preview-column > h4 {
            margin: 0;
            font-size: 0.78rem;
            font-weight: 600;
            letter-spacing: 0.02em;
        }
        .start-sit-preview-column .trade-assets {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.12rem !important;
            width: 90%;
            min-height: 2.2rem;
            flex: 0 0 auto;
            text-align: center;
            padding: 0.45rem 1rem;
            margin: 0 auto;
            background: #1E1F30da !important;
        }
        .start-sit-preview-column .trade-total {
            font-weight: 600;
            margin-top: auto;
            margin-bottom: 0px;
            padding-bottom: 1px;
            padding-top: 0.2rem;
            text-align: center;
            line-height: 1;
        }
        .start-sit-total-label {
            color: var(--color-text-secondary);
            margin-right: 0.35rem;
            font-weight: 500;
            font-size: 0.9rem;
        }
        .start-sit-total-value {
            font-weight: 600;
        }
    .start-sit-preview-column .start-sit-matchup-meta {
      font-size: 0.8rem;
      color: var(--color-text-tertiary);
      text-align: center;
      line-height: 1.25;
      margin-top: -0.2rem;
      letter-spacing: 0.01em;
    }
    .start-sit-matchup-meta .start-sit-matchup-opponent,
    .start-sit-matchup-meta .start-sit-matchup-rank {
      font-weight: 500;
    }
    .start-sit-matchup-meta .start-sit-matchup-sep {
      display: inline-block;
      margin: 0 0.3rem;
      color: var(--color-text-tertiary);
    }
        .start-sit-column[data-position="QB"] .player-row {
            box-shadow: inset 0 0 15px rgba(255, 58, 117, 0.2);
        }
        .start-sit-column[data-position="RB"] .player-row {
            box-shadow: inset 0 0 15px rgba(0, 235, 199, 0.16);
        }
        .start-sit-column[data-position="WR"] .player-row {
            box-shadow: inset 0 0 15px rgba(88, 167, 255, 0.18);
        }
        .start-sit-column[data-position="TE"] .player-row {
            box-shadow: inset 0 0 15px rgba(180, 105, 255, 0.18);
        }
        .roster-column {
            width: 129px;
            flex-shrink: 0;
            display: flex;
            flex-direction: column;
            gap: 0.3rem;
            border: 1px solid transparent;       /* new base border */
            border-radius: 8px;                   /* match header */
        }

/* ⬇︎  COMPARE SELECTION GLOW  ⬇︎ */
.roster-column:has(.team-compare-checkbox.selected) .team-card {
  box-shadow: inset 0 0 2px #6300ff55, inset 0 0 38px #5300ff35;          /* same highlight as header */
}
		
       .team-header-item {
      display: grid;
      grid-template-columns: auto minmax(0, 1fr) auto;
      align-items: center;
      column-gap: 0.25rem;
      font-size: 0.7rem;
      font-weight: 500;
      color: #d0d1ee;
      text-align: center;
      padding: 0.32rem 0.45rem;
      cursor: pointer;
    
      /* · · Glass look to match filter groups · · */
      background: linear-gradient(to bottom, rgba(0,0,0,0.01), rgba(0,0,0,0.1));
      border: 1px solid var(--color-panel-border);
      border-radius: 8px;
      -webkit-backdrop-filter: blur(4px) saturate(110%);
      backdrop-filter: blur(4px) saturate(110%);
      box-shadow: inset 0 1px 1px rgba(255,255,255,0.05);
      position: sticky;
      z-index: 1;
}
        .team-header-item:hover {
            box-shadow: 0 0 5px #7300ff;
            
        }
		.team-header-item:has(.team-compare-checkbox.selected) {
          border: 1px solid #6300ffaa;
		}
        .team-card {
            display: flex;
            flex-direction: column;
            gap: 0.25rem;
        }

@supports (content-visibility: auto) {
  #rosterGrid.roster-cv-enabled .team-card {
      content-visibility: auto;
      contain-intrinsic-size: auto var(--team-card-intrinsic-size, 1200px);
  }
}

        .roster-section h3 {
      font-size: 0.8rem;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: .8px;
      margin-bottom: 0.2rem;
      color: var(--color-text-primary);
      text-align: center;
      padding: 0.0rem 0;
    
      position: relative;
      border: 1px solid var(--color-panel-border);
      border-radius: 5px;
      -webkit-backdrop-filter: saturate(114%) blur(1px);
      backdrop-filter: saturate(114%) blur(1px);
      overflow: hidden;
}

.roster-section h3::before {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  pointer-events: none;

  background-color: rgba(20, 28, 58, 0.15);
  background-image: linear-gradient(rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0) 35%);
}
    /* · · Postion Header Borders · · */
        .qb-section h3 { 
            color: var(--pos-qb);
            border: solid 1px #FF3A7599; 
            box-shadow: inset 0 0 20px #FF3A7520;
    }
        .rb-section h3 { 
            color: var(--pos-rb); 
            border: solid 1px #00EBC799; 
            box-shadow: inset 0 0 20px #00EBC716; 
    }
         .wr-section h3 { 
            color: var(--pos-wr);
            border: solid 1px #58A7FF99; 
            box-shadow: inset 0 0 20px #58A7FF20; 
    }
        .te-section h3 { 
            color: var(--pos-te); 
            border: solid 1px #B469FF99; 
            box-shadow: inset 0 0 20px #B469FF20; 
    }
    /* · · Card Box Shadows by POS · · */
        .qb-section .player-row {
            box-shadow: inset 0 0 15px #FF3A7522;   /* QB border */
    }
        .rb-section .player-row {
            box-shadow: inset 0 0 15px #00EBC715;   /* RB border */
    }
        .wr-section .player-row {
            box-shadow: inset 0 0 15px #58A7FF20;   /* WR border */
    }
        .te-section .player-row {
            box-shadow: inset 0 0 15px #B469FF20;   /* TE border */
    }
        

/* ⬇︎  PLAYER & PICK CARD STYLES  ⬇︎ */
        .player-row, .pick-row {
            background: var(--color-panel-bg);
            border: 1px solid var(--color-panel-border);
            border-radius: var(--card-border-radius);
            padding: 0.15rem;
            margin-top: 2px;
            display: flex;
            flex-direction: column;
            gap: 0.01rem;
            transition: all 0.2s ease;
            backdrop-filter: blur(var(--roster-card-blur));
            -webkit-backdrop-filter: blur(var(--roster-card-blur));
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
        }
        .start-sit-column .player-row,
        .start-sit-column .pick-row {
            gap: 0.001rem;
        }

@media (min-width: 820px) {
  .player-row,
  .pick-row {
      --roster-card-blur: 0px;
      background: rgba(22, 24, 43, 0.35);
      box-shadow: 0 12px 28px rgba(7, 10, 25, 0.32);
      contain: paint;
  }
}
        .is-trade-mode .player-row, .is-trade-mode .pick-row { 
            cursor: pointer; 
        }
        .is-trade-mode .player-row:hover, .is-trade-mode .pick-row:hover {
            border-color: var(--color-panel-border-glow);
            transform: translateY(-2px);
        }
        
        .player-selected {
            border-color: var(--color-accent-primary) !important;
            box-shadow: 0 0 var(--glow-strength) var(--color-accent-primary-glow);
        }

        .player-main-line {
            display: flex;
            justify-content: flex-start;
            align-items: center;
            gap: 0.25rem;
        }
        .player-injury-badge {
            display: inline-flex;
            align-items: center;
            justify-content: flex-end;
            margin-left: auto;
            font-weight: 700;
            font-size: 0.63rem;
            letter-spacing: 0.04em;
            text-transform: uppercase;
            line-height: 1;
        }
    .player-name { 
            font-weight: 400; 
            font-size: 0.75rem; 
            color: #d0d1ee;
            line-height: 1.2;
            white-space: nowrap !important;
        }
    .player-name-clickable {
        text-decoration: underline;
        text-decoration-color: #9096D090;
    }
        .player-tag {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-size: 0.6rem;
            font-weight: 700;
            padding: 1px 3px;
            border-radius: 4px;
            color: var(--color-bg);
            line-height: 1;
        }

        .player-meta-line {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.01rem 0.1rem;
            gap: 0.0rem;
            font-size: 0.65rem;
            color: var(--color-text-secondary);
        }
        .start-sit-column .player-meta-line {
            padding: 0rem 0.1rem;
        }
        .team-tag {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-size: 0.6rem;
            font-weight: 600;
            padding: 1px 4px;
            border-radius: 4px;
            line-height: 1;
        }
        .player-value-line {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.57rem;
            font-weight: 500;
            color: var(--color-text-secondary);
            background: #1d223faa;
            border-radius: 6px;
            padding: 0.0rem 0.07rem;
        }
        .player-value-line .value {
            font-weight: 600;
            font-size: 0.63rem;
            color: var(--color-text-primary);
        }

        /* Lower the rank annotation on player cards' KTC value line */
        .player-value-line .has-rank-annotation .stat-rank-annotation {
            transform: translateY(0.0rem);
        }

        .pick-row {
            flex-direction: row;
            justify-content: space-between;
            align-items: center;
        }
        .pick-label {
            font-weight: 700;
            font-size: 0.75rem;
        }
        .pick-ktc {
            font-size: 0.7rem;
            color: var(--color-text-secondary);
        }
        .pick-ktc .value {
            font-weight: 700;
            color: var(--color-text-primary);
        }

        .team-compare-checkbox {
            appearance: none;
            width: 1rem;
            height: 1rem;
            border: 2px solid var(--color-text-tertiary);
            box-shadow: 0 0 7px #5300ff, inset 0 0 2px #7300ff;
            border-radius: 50%;
            cursor: pointer;
            position: relative;
            transition: all 0.2s ease-in-out;
            justify-self: start;
        }
        .team-compare-checkbox.selected {
            border-color: var(--color-accent-primary);
            background-color: var(--color-accent-primary);
            box-shadow: 0 0 var(--glow-strength) var(--color-accent-primary-glow);
        }
        .team-compare-checkbox.selected::after {
            content: '✔';
            position: absolute;
            color: var(--color-bg);
            font-size: 0.7rem;
            font-weight: 900;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

		
/* ⬇︎  TRADE PREVIEW  ⬇︎ */
        #tradeSimulator {
            position: fixed;
            bottom: .95rem;
            left: 0.85rem;
            right: 0.85rem;
            z-index: 20;
            display: none;
            max-width: 800px;
            margin: 0 auto;
        }

        .trade-container {
            display: flex;
            flex-direction: column;
            gap: 0.4rem;
            position: relative;
        }
        .trade-container.start-sit-container {
            gap: 0.24rem;
        }
        .trade-container.start-sit-container .trade-footnote {
            margin-top: 0.01rem;
        }

        .trade-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 0.25rem;
            margin-bottom: 3px;
        }
        .trade-header h3 {
            font-size: 0.9rem;
            font-weight: 500;
            color: #b0bcdb;
            text-shadow: 0 0 5px rgba(0,0,0,0.5);
        }
        .trade-header-left { 
            flex: 1 1 0; 
            }
        .trade-header-center { 
            text-align: center; 
            }
        .trade-header-right {
            flex: 1 1 0;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            gap: 0.95rem;
            }
                
         .trade-header-left i {
            font-size: 0.9rem;
            line-height: 0.9rem;
            color: #b0bcdbde;
            text-shadow: 0 0 5px rgba(0,0,0,0.2);
            margin: 0.5rem;
            margin-left: 1px;
        }
        .trade-header-left {
            margin-left: 2px;
        }
    /* · · ▾⃣ COLLAPSE Trade Container Button · · */
        #collapseTradeButton {
            color: #8787Af;
            border-radius: 6px;
            padding: 0px 15px;
            cursor: pointer;
            transition: all 0.2s;
            margin-top: 4px;
            background: linear-gradient(to bottom, rgba(0,0,0,0.01), rgba(0,0,0,0.1));
            box-shadow: 0 0 1px 0px #fff3, inset 0 1px 1px rgba(255,255,255,0.05);
        }
        #collapseTradeButton i {
          font-size: 14px;                /* icon size stays fixed */
        }
        #collapseTradeButton { 
            width: auto; 
            height: 18px; 
            line-height: 13px;
        }
        #collapseTradeButton:hover {
            background: #5300ff00;
            color: #8D94B1;
            -webkit-backdrop-filter: blur(1px) saturate(120%) brightness(120%);
            backdrop-filter: blur(1px) saturate(120%) brightness(120%);
            box-shadow: 0 0 1px 0px #fff3, inset 0 1px 1px rgba(255,255,255,0.05), inset 0 0 13px #5300ff15, 0 0 4px 0px #5300ff30;
        }
        
    /* · · ↻ CLEAR Trade Button · · */
        #clearTradeButton,
        #closeTradeButton {
          display: flex;
          flex-direction: column;    /* icon on top, label below */
          align-items: center;
          justify-content: center;
          gap: 0.125rem;                    /* no gap between icon & label */
          background: #1E1F3000;     /* keep your current look */
          color: #bec7ff99;
          font-size: 1rem;           /* base font size (affects icon if using font-size) */
          font-weight: 300;
          line-height: 1;            /* prevents extra inline spacing */
          padding: 1px 4px;
          margin-top: 4px;
          cursor: pointer;
          transition: all 0.2s;
          border-radius: 6px;
          min-height: 0;
          border: 1px solid transparent;
        }

        #clearTradeButton i,
        #closeTradeButton i {
          display: block;
          margin: 0;
          line-height: 1;
          font-size: 1rem;        /* tweak to match compare button icon weight */
        }

        /* Label — pulled up to visually touch the icon */
        #clearTradeButton .label,
        #closeTradeButton .label {
          display: block;
          margin: -2px 0 0 0;        /* pull label up; adjust -1 / -3 px if needed */
          padding: 0;
          font-size: 0.55rem;        /* small label like your compare button */
          font-weight: 500;
          line-height: 1;
          color: inherit;
        }

        #closeTradeButton {
          margin-left: 0.35rem;
        }

        #comparePlayersButton:hover,
        #clearTradeButton:hover,
        #closeTradeButton:hover {
            color: var(--color-text-secondary);
            border-color: var(--color-panel-border-glow);
        }
        #clearTradeButton:disabled {
            color: #8787Af60 !important;
            cursor: not-allowed;
            pointer-events: none;
    }
    #clearTradeButton:not(:disabled) {
      color: var(--color-text-secondary);
    }
    
    
    
    
    
    
  /* · · ⌃ SHOW TRADE CONTAINER BUTTON · · */
    #showTradeButton {
      background: #1E1F30da;
      color: var(--color-text-secondary);
      font-size: 0.8rem;
      padding: 2px 12px;
      border-radius: 6px;
      border: 1px solid var(--color-panel-border);
      cursor: pointer;
      transition: all 0.2s;
      margin: 0.15rem auto 0;
      display: none;
      width: fit-content;
      text-align: center;
    }

    #showTradeButton i {
      font-size: 0.9rem;
      line-height: 1;
    }

    #showTradeButton:hover {
      color: var(--color-text-primary);
      border-color: var(--color-panel-border-glow);
    }

    /*  · · ⌃ Padding [Show Trade Container] · · */
    #tradeSimulator.collapsed #showTradeButton {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 2rem;
      font-size: 1em;
      box-shadow: inset 0 0 13px var(--color-accent-primary), 0 0 9px var(--color-accent-primary);
      border-color: var(--color-accent-primary);
      color: var(--color-accent-primary);
      padding: 11px 19px;
      background: #1E1F30e9;
      width: fit-content;
      align-self: center;
    }

    /* Keep the Start/Sit label and elevator icon tightly grouped */
    #showTradeButton .show-button-label {
      display: inline-flex;
      align-items: center;
      gap: 0.4rem; /* small single-space gap */
      line-height: 1;
    }
    #showTradeButton .show-button-label i.analyzer-icon {font-size: 1rem;vertical-align: middle;margin-bottom: 3.5px;}

    #tradeSimulator.collapsed #showTradeButton .start-sit-week:empty {
      display: none;
      margin: 0;
    }
      #tradeSimulator.collapsed .trade-container {
            display: none;
        }

    /* · · Trade Body, Divider, & Column  · · */
        .trade-body {
            display: grid;
            grid-template-columns: 1fr auto 1fr;
            gap: 0.25rem;
            align-items: stretch;
        }

        .trade-divider {
            width: 2px;
            height: 80%;
            background-image: linear-gradient(to bottom, transparent, var(--color-accent-secondary), transparent);
            opacity: 0.7;
        }

        .trade-team-column {
            display: flex;
            flex-direction: column;
            gap: 0.25rem;
        }
    /* · · TEAM NAMES in Trade Preview · · */
        .trade-team-column h4 {
            font-size: 0.95rem;
            font-weight: 600;
            margin-bottom: 0.1rem;
            text-align: center;
            color: var(--color-text-secondary);
        }
        .trade-assets {
            min-height: 40px;
            display: flex;
            flex-wrap: wrap;
            gap: 3px;
            align-content: flex-start;
            flex-grow: 1;
            background: #1E1F30da;
            border-radius: 10px;
            padding: 0.25rem;
        }
        .trade-assets {
            margin-right: 10px !important;
            margin-left: 10px !important;
        }
    /* · · Trade-Chip Style [.trade-asset-chip] · · */
        .trade-asset-chip {
            position: relative;
            background: rgba(255, 255, 255, 0.005);
            backdrop-filter: blur(3px) saturate(170%);
            border: 0.0625rem solid rgba(250, 250, 250, 0.06);
            border-radius: 6px;
            padding: 1.25rem;
            box-shadow: 0 8px 32px rgba(31, 38, 135, 0.2), inset 0 4px 20px rgba(255, 255, 255, 0.05);
            }

        .trade-asset-chip::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.01);
            border-radius: 6px;
            backdrop-filter: blur(3px);
            box-shadow: inset 7.5px 10px 0px -11px rgba(255, 255, 255, .25),
            inset 0px 10px 0px -8px rgba(255, 255, 255, .01);
            opacity: 0.4;
            z-index: -1;
            filter: blur(2px) drop-shadow(10px 4px 6px black) brightness(115%);
            pointer-events: none;
            }        
         .trade-asset-chip {
            font-size: 0.75rem;
            padding: 2px 6px;
            display: flex;
            gap: 4px;
            align-items: center;
            text-align: center;
            color: var(--color-text-secondary);
            white-space: nowrap;
        }
        .trade-asset-chip .ktc { 
            font-weight: 700;
            color: var(--color-text-primary);
        }
    .trade-total {
      margin-top: 0.25rem;
      text-align: center;
      font-size: 1rem;
      font-weight: 700;
      padding: 0.25rem;
      border-radius: 8px;
      transition: all 0.3s ease;
    }
        .trade-total.winning {
            box-shadow: 0 0 12px var(--color-accent-trade-win);
            color: var(--color-accent-trade-win);
        }
        .trade-total.losing {
            box-shadow: 0 0 12px var(--color-accent-trade-lose);
            color: var(--color-accent-trade-lose);
        }
        .trade-total.even {
            color: var(--color-accent-secondary);
        }
            .trade-total {
            margin-right: 10px !important;
            margin-left: 10px !important;
        }
    
        
    /* · · Trade Preview footnote · · */
        .trade-footnote {
            text-align: center;
            font-size: 0.75em;
            color: #A0A6D0;
            font-weight: 300;
            margin-top: 0.15rem;
            padding-bottom: 0.05rem;
        }
 
    /* · · Only the Trade Preview popup glass · · */
        .trade-container.glass-panel {
          background-color: rgba(13,14,35,0.18);
          -webkit-backdrop-filter: blur(18px) saturate(120%) brightness(115%);
          backdrop-filter: blur(18px) saturate(120%) brightness(115%);
          border-color: rgba(128,138,189,0.26);
        }
    
/* ⬇︎  OWNERSHIP (PLAYER LIST) VIEW  ⬇︎ */
        #playerListView { 
            max-width: 700px; 
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            height: 100%; 
        }
        #playerSearch {
            background: var(--color-panel-bg);
            border: 1px solid var(--color-panel-border);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            color: var(--color-text-primary);
            padding: 0.50rem 0.75rem;
            border-radius: var(--panel-border-radius);
            font-size: 1rem;
            width: 100%;
            margin: 0.5rem auto;
            display: block;
            transition: all 0.2s ease;
            position: sticky;
            top: 0;
            z-index: 5;
            flex-shrink: 0;
        }
#usernameInput:focus, #leagueSelect:focus {
            outline: none;
            border-color: var(--color-accent-primary);
    box-shadow: inset 0 1px 2px rgba(0,0,0,0.2), 0 0 8px var(--color-accent-primary-glow);
        }
        #playerSearch::placeholder { 
            color: var(--color-text-secondary); 
            font-weight: 200;
        }
        .player-list-section { 
            border-radius: 6px; 
            overflow-y: auto;
            flex: 1;
            padding: 0rem 1rem;
        }

        .pl-player-row { 
            display: flex; 
            align-items: center; 
            padding: 0.25rem 0.55rem; 
            font-size: 0.9rem;
            margin-top: 2px;
        }
    /* · · ODD = inset · · */
        .player-list-section .pl-player-row:nth-child(odd) {
              position: relative;
              background-color: rgba(100, 100, 120, 0.03);
              backdrop-filter: blur(2px) saturate(1.30) brightness(1.46);
              border: 1px solid rgba(255, 255, 255, 0.14);
              border-radius: 10px;
              box-shadow: rgba(0, 0, 0, 0.22) 0px 10px 26px 0px;
            }
        
        .player-list-section .pl-player-row:nth-child(odd)::after {
              content: "";
              position: absolute;
              inset: 0;
              pointer-events: none;
              border-radius: inherit;
              opacity: 0.06;
              background-color: rgba(13, 14, 35, 0.03);
              background: repeating-linear-gradient(20deg, rgba(255, 255, 255, 0.5), rgba(255, 255, 255, 0.5) 1px, rgba(0, 0, 0, 0) 1px, rgba(0, 0, 0, 0) 4px);
        }
    /* · · EVEN · · */
        .player-list-section .pl-player-row:nth-child(even) {
              position: relative; overflow: hidden;
             background-color: rgba(13, 14, 35, 0.03);
            backdrop-filter: blur(2px) saturate(1.25) brightness(1.46);
            border: 1px solid rgba(255, 255, 255, 0.12);
            border-radius: 10px;
            box-shadow: rgba(0, 0, 0, 0.59) 0px 10px 60px 0px;
        }
        .player-list-section .pl-player-row:nth-child(even)::after {
             content:""; 
            position:absolute; inset:0; 
            pointer-events:none; 
            border-radius:inherit; 
            background-color: rgba(13, 14, 35, 0.03);
            background-image:radial-gradient(rgba(255, 255, 255, 0.03) 1px, rgba(0, 0, 0, 0) 1px); 
            background-size: 5px 5px; 
        }



        .pl-player-info { 
            display: flex; 
            flex-direction: column; 
            flex: 1; 
            min-width: 0;
        }
        .pl-player-name { 
            font-size: 0.9rem; 
            font-weight: 600; 
            color: var(--color-text-primary); 
            display: flex; 
            align-items: center;
            gap: 0.5rem;
        }
        .pl-player-details { 
            font-size: 0.8rem; 
            color: var(--color-text-secondary); 
            font-weight: 500; 
            margin-top: 2px; 
            white-space: nowrap; 
            overflow: hidden; 
            text-overflow: ellipsis; 
        }
        .pl-list-tag { 
            min-width: 24px; /* EDITED */
            height: 22px; 
            line-height: 22px; 
            font-size: 0.8rem; 
            font-weight: 700; 
            text-align: center; 
            border-radius: 5px; 
            color: var(--color-bg); 
            flex-shrink: 0;
            margin-right: 0.3rem; /* EDITED */
        }

        .pl-list-tag-spacer {
            width: 24px; /* EDITED */
            height: 1px;
            flex-shrink: 0;
            margin-right: 0.3rem; /* EDITED */
        }

        .pl-right-meta {
            display: grid;
            grid-template-columns: 35px 45px 1fr;
            column-gap: 1rem;
            align-items: center;
            font-size: 0.85rem;
            color: var(--color-text-secondary);
            font-weight: 600;
            flex-shrink: 0;
            width: 170px; /* EDITED */
            text-align: right;
        }
        .pl-col-count, .pl-col-pct { 
            text-align: center; 
            font-variant-numeric: tabular-nums;
        }
      /* · · "LEAGUES" text in the ownership page header · · */
        .pl-col-lgs {
            text-align: left;
            white-space: normal;
            font-size: 0.65rem; /* EDITED */
            font-weight: 500;
            color: #cdd1ee;
        }
    /* · · ownership page header · · */
    .pl-list-header {
            background: #1d1f3577 !important; 
            border: 1px solid rgba(255, 255, 255, 0.08) !important; 
             border-radius: 10px; 
            backdrop-filter: blur(0px);
            -webkit-backdrop-filter: blur(0px);
            color: var(--color-text-primary); 
            text-transform: uppercase; 
            letter-spacing: .8px; 
            font-weight: 700; 
            font-size: 0.7rem;
            position: sticky;
            top: 0;
            z-index: 4;
            margin: 2px 1px 5px 1px;
            padding: 0.5rem 0.1rem !important;
        }
        .pl-list-header::after {
            background: #1d1f35aa !important; 
             border-radius: 4px; 
            backdrop-filter: blur(0px);
            -webkit-backdrop-filter: blur(0px);
            position: sticky;
            top: 0;
            z-index: 4;
        }
        /* · · "PLAYERS & INFO" text in the ownership page header · · */
        .pl-list-header .pl-player-name {
            font-size: 0.75rem;
            color: #cdd1ee;
        }
        .pl-list-header .pl-player-info {
            justify-content: center; /* center header text vertically */
        }
        /* · · "#" and "%" Headers text in ownership page · · */
        .pl-list-header .pl-right-meta {
            font-size: 0.85rem;
            color: #cdd1ee;
        }

        .pl-list-header .pl-col-lgs {
            font-size: 0.65rem;
            color: #cdd1ee;
        }

        
        .pl-list-header .pl-player-details { display: none; }

        .pl-count-high, .pl-pct-high { color: var(--color-accent-trade-win); }
        .pl-count-mid, .pl-pct-mid { color: var(--color-accent-secondary); }
        .pl-count-low, .pl-pct-low { color: var(--color-text-secondary); }

/* === Home page (welcome) — scoped header simplification === */
body[data-page="welcome"] .app-header {
  display: flex !important;
  align-items: center;
  justify-content: center; /* center header on desktop */
  padding: 0.3rem 0.15rem;
}

/* tighter grid: menu - username - enter */
/* Desktop: center the header group and keep controls tightly grouped */
@media (min-width: 820px) {
  body[data-page="welcome"] #primary-header-row {
    display: flex;
    align-items: center;
    justify-content: center; /* keep the group centered */
    gap: 0.5rem; /* small gap between controls */
    width: auto;
    max-width: 920px;
    margin: 0 auto;
    padding-left: 8px;
    padding-right: 8px;
  }
}

/* For narrow viewports, keep a compact grid to allow wrapping */
@media (max-width: 819px) {
  body[data-page="welcome"] #primary-header-row {
    display: grid;
    grid-template-columns: auto 1fr auto;
    gap: 0.5rem;
    align-items: center;
    width: 100%;
    padding-left: 8px;
    padding-right: 8px;
  }
}

/* make sure only for home: hide any leftover contextual controls */
body[data-page="welcome"] #contextual-controls { display: none !important; }

/* Username field sizing for home */
body[data-page="welcome"] .username-area { min-width: 0; }
body[data-page="welcome"] #usernameInput {
  max-width: 520px;
  width: 100%;
  font-size: 0.96rem;
  padding: 0.36rem 0.65rem;
  border-radius: 10px;
  height: 40px; /* slightly reduced height for tighter header */
  box-sizing: border-box;
}

/* Enter button styling — styled to match the other nav buttons with a circular icon inside */
body[data-page="welcome"] .home-enter-slot { display: flex; align-items: center; justify-content: center; }
body[data-page="welcome"] .enter-button {
  display: inline-flex;
  flex-direction: row; /* label left of icon */
  align-items: center;
  justify-content: center;
  gap: 0.5rem; /* larger gap so label and circle don't butt up against each other */
  padding: 0 9px; /* more horizontal breathing room */
  background: rgba(13, 14, 35, 0.10);
  border: 1px solid rgba(128, 138, 189, 0.10);
  color: var(--color-text-secondary);
  border-radius: 10px;
  box-shadow: 0 3px 8px rgba(0,0,0,0.14), inset 0 1px 0 rgba(255,255,255,0.02);
  cursor: pointer;
  transition: transform 110ms ease, box-shadow 110ms ease, background 110ms ease;
  align-self: center;
  height: 40px; /* uniform control height */
  min-width: 78px; /* ensure the control doesn't shrink too small */
  white-space: nowrap; /* prevent enter label wrapping */
}

body[data-page="welcome"] .enter-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 14px 36px rgba(0,0,0,0.34), inset 0 1px 0 rgba(255,255,255,0.04);
  color: var(--color-text-primary);
  background: rgba(13,14,35,0.32);
}

/* Circular icon inside the button — keep perfectly round */
body[data-page="welcome"] .enter-circle {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 40px !important;
  height: 28px;
  border-radius: 50%;
  background: linear-gradient(125deg, rgba(118,109,255,.14), rgba(118,109,255,0.07));
  font-size: 0.88rem;
  box-shadow: 0 3px 6px rgba(91,76,255,0.08);
}

/* allow the Font Awesome rotation class to apply; keep inline-block for sizing */
body[data-page="welcome"] .enter-circle i {
  display: inline-block;
  line-height: 1; 
  text-shadow: 2px 1px 1px #5800ff;
  font-size: 0.85rem !important;
}

body[data-page="welcome"] .enter-label {
  font-size: 0.95rem; /* larger label font */
  color: #cfc7ffdb;
  text-transform: none;
  margin: 0;
  line-height: 1;
  font-weight: 400;
  order: 0; /* ensure label is left of icon */
}
body[data-page="welcome"] .enter-circle { order: 1; }

/* Home menu dropdown */
body[data-page="welcome"] .home-menu-slot {display: flex;align-items: center;gap: 0.5rem;position: relative;margin-right: 4px;}
body[data-page="welcome"] .menu-toggle {
  background: transparent;
  border: 1px solid rgba(128,138,189,0.12);
  color: var(--color-text-secondary);
  padding: 0 10px;
  border-radius: 8px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  height: 44px; /* match control height */
}

body[data-page="welcome"] .menu-toggle:hover { color: var(--color-text-primary); border-color: rgba(128,138,189,0.24); }

body[data-page="welcome"] .home-menu {
  position: absolute;
  top: calc(100% + 4px);
  left: 0;
  min-width: 160px;
  background: rgba(38,37,63,0.94);
  border: 1px solid rgba(128,138,189,0.14);
  box-shadow: 0 18px 40px rgba(0,0,0,0.6);
  padding: 8px;
  border-radius: 8px;
  display: flex;
  flex-direction: column;
  gap: 3px;
  z-index: 1200;
  max-height: 60vh;
  overflow: auto;
}

  body[data-page="welcome"] .home-menu.hidden { display: none !important; }

body[data-page="welcome"] .home-menu-item {
  background: transparent;
  color: var(--color-text-secondary);
  border: none;
  text-align: left;
  padding: 6px 8px;
  display: flex;
  gap: 8px;
  align-items: center;
  cursor: pointer;
  border-radius: 6px;
}

body[data-page="welcome"] .home-menu-item:hover { background: rgba(255,255,255,0.02); color: var(--color-text-primary); }

body[data-page="welcome"] .home-menu-item i { width: 16px; text-align: center; }

/* Mobile tweaks: keep button compact and inline */
@media (max-width: 520px) {
  body[data-page="welcome"] #primary-header-row { grid-template-columns: auto 1fr auto; gap: 0.4rem; padding-left: 8px; padding-right: 8px; }
  body[data-page="welcome"] .enter-button {min-width: 104px;height: 38px;padding: 0.2rem 0.85rem;gap: 0.6rem;}
  body[data-page="welcome"] .enter-label {font-size: 0.95rem;}
  body[data-page="welcome"] .enter-circle {
    width: 25px !important;
    height: 24px;
    font-size: 0.92rem;
  }
  body[data-page="welcome"] #usernameInput { font-size: 0.94rem; padding: 0.34rem 0.5rem; height: 38px; }
}

    

@media (max-width: 540px) {
  /* ⬇︎ 📱 OWNERSHIP PAGE: MOBILE CORRECTIONS (v4 — rows vs header separated) 📱 ⬇︎ */
  /* Container padding so content breathes */
  #playerListView { padding: 0 6px; }

  /* 📱 BODY ROWS ONLY 📱 */
  .player-list-section .pl-player-row {
    padding: 6px 3px !important;
    gap: 4px !important;
    font-size: 0.72rem !important;  /* FIX --- This was set to flex-start, causing the misalignment. Changed to center */
    align-items: center !important; 
  }

  .player-list-section .pl-player-row .pl-player-name {
    font-size: 0.78rem !important;
    line-height: 1.2 !important;
    gap: 6px !important;
  }

  /* 📱 Inline bits inside the name line (e.g., Age) 📱 */
  .player-list-section .pl-player-row .pl-player-name span,
  .player-list-section .pl-player-row .pl-player-name .player-age {
    font-size: 0.6rem !important;
  }

  /* 📱 Team badge in rows 📱 */
  .player-list-section .pl-player-row .team-tag {
    font-size: 0.6rem !important;
    padding: 1px 6px !important;
  }

  /* 📱 Secondary details line (ADP, SFLX, RY) 📱 */
  .player-list-section .pl-player-row .pl-player-details {
    font-size: 0.60rem !important;
    line-height: 1.15 !important;
    white-space: normal !important;
  }

  /* 📱 Right meta columns (count | % | leagues) for rows 📱 */
  .player-list-section .pl-player-row .pl-right-meta {
    width: 160px !important;
    grid-template-columns: 22px 34px 1fr !important;
    column-gap: 6px !important;
    font-size: 0.68rem !important;
  }
  .player-list-section .pl-player-row .pl-col-count,
  .player-list-section .pl-player-row .pl-col-pct {
    text-align: center !important;
  }
  .player-list-section .pl-player-row .pl-col-lgs {
    font-size: 0.68rem !important;
    white-space: normal !important;
    text-align: left !important;
    line-height: 1.15 !important;
    word-break: break-word !important;
  }

  /* 📱 Position tag chip in rows 📱 */
  .player-list-section .pl-player-row .pl-list-tag {
    min-width: 22px !important;
    height: 18px !important;
    line-height: 18px !important;
    font-size: 0.68rem !important;
    margin-right: 4px !important;
  }
  .player-list-section .pl-player-row .pl-list-tag-spacer {
    width: 26px !important;
    margin-right: 6px !important;
  }

  /* 📱 Guard “Age:” and similar tiny bits inside rows 📱 */
  .player-list-section .pl-player-row .player-meta-line,
  .player-list-section .pl-player-row .player-meta-line .player-age,
  .player-list-section .pl-player-row .player-meta-line span {
    font-size: 0.68rem !important;
    line-height: 1.15 !important;
  }

  /* 📱 HEADER ONLY 📱 */
  .player-list-section .pl-list-header {
    font-size: 0.68rem !important;
    letter-spacing: .6px !important;
  }
  .player-list-section .pl-list-header .pl-player-name {
    font-size: 0.68rem !important;
  }
  .player-list-section .pl-list-header .pl-right-meta {
    width: 160px !important;
    grid-template-columns: 22px 34px 1fr !important;
    column-gap: 6px !important;
    font-size: 0.68rem !important;
  }
  .player-list-section .pl-list-header .pl-col-lgs {
    font-size: 0.68rem !important;
  }
  
  .player-list-section .pl-list-header .pl-player-info {
    flex-direction: row !important;
    align-items: center !important;
    justify-content: center !important;
    padding: 3px 0px !important;
  }
  
  
}



/* ⬇︎  ROSTER PLAYER CARD KEY 1 (READY)  ⬇︎ */
#rosterPlayerCardKey.legend-card {
  width: min(340px, 92%);
  max-width: 340px;
  margin: 0.9rem auto 0.4rem auto;  /* small gap above footnote */
  padding: 0.8rem 0.85rem;
  border-radius: var(--card-border-radius, 12px);
  box-sizing: border-box;
  flex: 0 0 auto;    /* prevent flex parents from stretching */
  align-self: center;
}
@media (min-width: 1440px) {
  #rosterPlayerCardKey.legend-card {
    width: 320px;
    max-width: 320px;
  }
}

  /* · · Top row alignment · · */
#rosterPlayerCardKey .legend-main {
  display: flex;
  align-items: center;
  gap: 0.55rem;
}
#rosterPlayerCardKey .legend-name { font-weight: 700; color: var(--color-text-primary); }

  /* · · Position tag pill · · */
#rosterPlayerCardKey .player-tag.legend-pos {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 0.14rem 0.55rem;
    background: linear-gradient(to bottom, rgba(13,14,35,0.15), rgba(8,8,25,0.32));
  border-radius: 8px;
  -webkit-backdrop-filter: blur(4px) saturate(110%) brightness(120%);
  backdrop-filter: blur(4px) saturate(110%) brightness(120%);
  box-shadow: inset 0 0 3px rgba(255,255,255,0.13), rgba(0, 0, 0, 0.26) 0px 7px 26px 1px;
  font-weight: 800;
  color: var(--color-text-primary);
  letter-spacing: .25px;
  line-height: 1.05;
}

  /* · · Meta row: keep things aligned; push the last separator so team sits right · · */
#rosterPlayerCardKey .legend-meta {
  display: flex;
  align-items: center;
  font-weight: 600;
  color: var(--color-text-secondary);
}
#rosterPlayerCardKey .legend-pos-rank { color: var(--pos-qb, #FF3A75cc); } /* typical pos-rank tint */
#rosterPlayerCardKey .legend-age { color: var(--color-accent-primary, #58E6D9); }
#rosterPlayerCardKey .legend-meta .separator:last-of-type {
  margin-left: auto;
  margin-right: 0.5rem;
}
#rosterPlayerCardKey .legend-team {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 0.12rem 0.55rem;
  background: linear-gradient(to bottom, rgba(13,14,35,0.15), rgba(8,8,25,0.32));
  border-radius: 8px;
   -webkit-backdrop-filter: blur(4px) saturate(110%) brightness(120%);
  backdrop-filter: blur(4px) saturate(110%) brightness(120%);
  box-shadow: inset 0 0 3px rgba(255,255,255,0.1), rgba(0, 0, 0, 0.26) 0px 10px 26px 1px;
  color: var(--color-text-primary);
  font-weight: 800;
  letter-spacing: .25px;
}

  /* · · Bottom row: align to edges, no chips on values · · */
#rosterPlayerCardKey .legend-bottom {
  display: flex;
  align-items: baseline;
  justify-content: space-between;
  border-top: 1px solid var(--color-panel-border);
  padding-top: 0.35rem;
}
#rosterPlayerCardKey .kv-left, #rosterPlayerCardKey .kv-right {
  color: var(--color-text-secondary);
  font-weight: 700;
  letter-spacing: .2px;
}
#rosterPlayerCardKey .legend-ktc { color: #00EBC7; font-weight: 800; }
#rosterPlayerCardKey .legend-adp { color: #58A7FF; font-weight: 800; }
#rosterPlayerCardKey .legend-ppg { color: #58A7FF; font-weight: 800; }

  /* · · External footnote below the card · · */
#rosterCardFootnote.legend-footnote {
  margin: 0.25rem auto 0;
  text-align: center;
  font-size: 0.74rem;
  color: var(--color-text-tertiary);
  max-width: 340px;
}
@media (min-width: 1440px) {
  #rosterCardFootnote.legend-footnote { max-width: 320px; }
}


  /* · · Legend vertical spacing + centering tweaks · · */
#rosterPlayerCardKey.legend-card {
  /* spread out vertically by a lot */
  padding: 1.25rem 0.95rem;
}
#rosterPlayerCardKey .legend-main {
  margin-bottom: 0.9rem; /* spacing between name row and meta row */
}
#rosterPlayerCardKey .legend-meta {
  margin-bottom: 0.9rem; /* spacing between meta row and bottom row */
}
  /* · · KTC/ADP row vertically centered with its background · · */
#rosterPlayerCardKey .legend-bottom {
  align-items: center !important; /* center the text vertically */
  min-height: 2.4rem;             /* give the row a stable height */
}
#rosterPlayerCardKey .kv-left,
#rosterPlayerCardKey .kv-right {
  gap: 0.45rem; /* comfortable label/value spacing */
}
#rosterPlayerCardKey .kv-left .value,
#rosterPlayerCardKey .kv-right .value {
  line-height: 1.15; /* improve vertical alignment appearance */
}


  /* · · Legend bottom-row background: smaller vertical height without changing text spacing · · */
#rosterPlayerCardKey .legend-bottom {
  position: relative;
  background: transparent !important; /* ensure no inherited row bg */
}
#rosterPlayerCardKey .legend-bottom::before {
  content: "";
  position: absolute;
  left: 0.5rem;
  right: 0.5rem;
  top: 50%;
  transform: translateY(-50%);
  height: var(--legend-bottom-bg-height, 1.25rem); /* <-- adjust this to change the bg height */
    z-index: 0;
  pointer-events: none;
}
#rosterPlayerCardKey .legend-bottom > * {
  position: relative;
  z-index: 1; /* keep text above the bg overlay */
}

/* ⬇︎  BOTTOM BAR REWORK: FULL-WIDTH INNER CONTAINER, NO PSEUDO, NO EXTRA LINE ABOVE  ⬇︎ */
#rosterPlayerCardKey .legend-bottom {
  position: relative;
  border-top: none !important;      /* remove the line above */
  padding-top: 0 !important;
  margin-top: 0.2rem;               /* small spacing from meta row (text spacing unchanged) */
}

#rosterPlayerCardKey .legend-bottom::before { 
  content: none !important;         /* kill previous overlay if present */
}

#rosterPlayerCardKey .legend-bottom-bg {
  display: flex;
  align-items: center;              /* vertically middle-align KTC/ADP with the bar */
  justify-content: space-between;
  width: 110%;
  padding: 0.55rem 0.75rem;         /* controls bar height; adjust first value for taller/shorter */
  background: linear-gradient(to bottom, rgba(13,14,35,0.15), rgba(8,8,25,0.32));
  border-radius: 8px;
   -webkit-backdrop-filter: blur(4px) saturate(110%) brightness(120%);
  backdrop-filter: blur(4px) saturate(110%) brightness(120%);
  box-shadow: inset 0 0 3px rgba(255,255,255,0.08), rgba(0, 0, 0, 0.22) 0px 10px 26px 0px;
  color: var(--color-text-primary);
  font-weight: 800;
  letter-spacing: .25px;
  box-sizing: border-box;
}

#rosterPlayerCardKey .legend-bottom-bg .kv-left,
#rosterPlayerCardKey .legend-bottom-bg .kv-right {
  display: inline-flex;
  align-items: center;
  gap: 0.35rem;
}

#rosterPlayerCardKey .legend-bottom-bg .value { line-height: 1.15; }


    /* · · CUSTOM RULE: Prevent Wrapping on Ownership Page · · */
    #playerListView .pl-player-info,
    #playerListView .pl-player-details {
        white-space: nowrap !important;
        overflow: hidden !important;
        text-overflow: ellipsis !important;
    }







#usernameInput {font-size: 16px !important;}



  /* · · Ownership: centering + width sanity (mobile-safe) · · */
body:not([data-page="rosters"]) { overflow-x: hidden !important; }
body[data-page="rosters"] { overflow-x: auto !important; }
main#content { align-items: stretch !important; }

#playerListView { 
  width: 100% !important;
  max-width: 700px !important;
  margin-left: auto !important;
  margin-right: auto !important;
  padding-left: 6px !important;
  padding-right: 6px !important;
  box-sizing: border-box !important;
}

#playerSearch {
  width: 100% !important;
  box-sizing: border-box !important;
}

  /* · · vertical centering for row pieces · · */
#playerListView .player-list-section .pl-player-row { align-items: center !important; }
#playerListView .player-list-section .pl-player-row > .pl-list-tag,
#playerListView .player-list-section .pl-player-row > .pl-player-info,
#playerListView .player-list-section .pl-player-row > .pl-right-meta { align-self: center !important; }

#playerListView .player-list-section .pl-list-tag {
  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;
  line-height: 1 !important;
}

  /* · · keep right meta columns centered · · */
#playerListView .player-list-section .pl-right-meta { align-items: center !important; }
#playerListView .player-list-section .pl-col-count,
#playerListView .player-list-section .pl-col-pct {
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  line-height: 1 !important;
  height: 100%;
}
#playerListView .player-list-section .pl-col-lgs { line-height: 1.15 !important; }



/* ⬇︎  INSTALL PANEL & LEGEND PANEL  ⬇︎ */
.panel {
  margin: 0.45rem auto;
  padding: 0.75rem 0.85rem;
  border: 1px solid var(--color-panel-border);
  border-radius: 10px;
  background: linear-gradient(to bottom, rgba(0,0,0,0.02), rgba(0,0,0,0.10));
  -webkit-backdrop-filter: blur(4px) saturate(110%);
  backdrop-filter: blur(4px) saturate(110%);
  box-shadow: inset 0 1px 1px rgba(255,255,255,0.05);
  max-width: 720px;
}

.panel-title {
  margin: 0 0 0.5rem 0;
  font-size: 0.95rem;
  font-weight: 800;
  letter-spacing: .6px;
  text-transform: uppercase;
  color: var(--color-text-primary);
  text-align: center;
}

.install-details summary {
  cursor: pointer;
  font-weight: 700;
  color: var(--color-text-secondary);
  margin-bottom: 0.4rem;
}

.install-columns {
  display: grid;
  grid-template-columns: 1fr;
  gap: 0.6rem;
}
@media (min-width: 720px) {
  .install-columns {
    grid-template-columns: 1fr 1fr;
  }
}

.install-card h4 {
  margin: 0 0 0.25rem 0;
  font-size: 0.9rem;
  color: var(--color-text-primary);
}
.install-card ol {
  margin: 0 0 0.25rem 1.1rem;
}
.install-card .hint {
  margin: 0.15rem 0 0 0;
  font-size: 0.8rem;
  color: var(--color-text-tertiary);
}


  /* · · Hotfix: Legend container and visibility · · */
#legend-section { 
  display:block; 
  width:100%; 
  max-width: var(--welcome-width, 720px);
  margin-left:auto; margin-right:auto;
}
.hidden { display:none; }

  /* · · Force-hide utility with higher precedence · · */
.hidden{display:none !important;}
#legend-section.hidden{display:none !important;}


  /* · · CSS-only legend gating · · */
#legend-section { display:none !important; }               /* default hidden */
#welcome-screen:not(.hidden) ~ #legend-section { 
  display:block !important;                                /* show only when Welcome visible */
}

  /* · · LEGEND CARD — INDIVIDUAL CONTROLS (no vars) · · */
                

#legend-section .panel-title{
  font-size: 0.95rem !important;
  font-weight: 800 !important;
  letter-spacing: .6px !important;
  color: #EAEBF0 !important;
}

#rosterPlayerCardKey.legend-card { 
    padding: 0.70rem .8rem !important; 
    background-color: rgba(13, 14, 35, 0.21);
       background-image: linear-gradient(rgba(255,255,255, 0.03), rgba(255,255,255, 0.03));
        -webkit-backdrop-filter: blur(0px) saturate(120%) brightness(120%);
        backdrop-filter: blur(0px) saturate(120%) brightness(120%);
        box-shadow: inset 0 0 0 0px rgba(255,255,255, 0.05), inset 0 0 0 4px rgba(200,200,200, 0.025), 0 10px 26px rgba(0,0,0, var(--outerA, .22));
        
        /* · · Frame · · */
        border: 1px solid rgba(128, 138, 189, 0.2);
        border-radius: 10px;
        box-shadow: rgba(255, 255, 255, 0.05) 0px 0px 0px 0px inset, rgba(200, 200, 200, 0.025) 0px 0px 0px 4px inset, rgba(0, 0, 0, 0.22) 0px 10px 26px 0px;
}


  /* · · Top row · · */
#rosterPlayerCardKey .player-tag.legend-pos{
  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;
  font-size: 0.9rem !important;
  font-weight: 400 !important;
  color: #EAEBF0 !important;
  padding: 0.4rem 0.55rem !important;   /* ← edit these to resize the POS chip */
  border-radius: 6px !important;
  line-height: 1.05 !important;
  letter-spacing: .45px !important;
}
#rosterPlayerCardKey .legend-name{
  font-size: 1.1rem !important;
  font-weight: 400 !important;
  letter-spacing: .1px !important;
  color: #c6b3ff !important;
    margin-left: 0.5rem
}

  /* · · Row gaps · · */
#rosterPlayerCardKey .legend-main{
  display: flex !important;      /* keep layout */
  align-items: center !important;
  gap: 0.75rem !important;        /* POS ↔ Name gap (edit) */
  margin-bottom: 0.9rem !important; /* gap to meta row (edit) */
}

  /* · · Meta row · · */
#rosterPlayerCardKey .legend-meta{
  display: flex !important;
  align-items: center !important;
  font-size: 1rem !important;
  font-weight: 600 !important;
  color: #9096C0 !important;
  margin-bottom: 0.9rem !important; /* gap to bottom row (edit) */
  line-height: 1.2 !important;
}
#rosterPlayerCardKey .legend-pos-rank{
  color: #FF3A75CA !important;
  font-weight: 400 !important;
  text-align: center !important;
  font-size: 0.8rem !important;
  line-height: 1.2 !important;
}
#rosterPlayerCardKey .legend-age{
  color: #766DFF !important;
  font-weight: 700 !important;
  font-size: 1rem !important;
  line-height: 1.2 !important;
}
  /* · · If your separators are elements with .separator, control them here: · · */
#rosterPlayerCardKey .legend-meta .separator{
  color: #9096C0 !important;
  font-weight: 600 !important;
  font-size: 1rem !important;
  line-height: 1 !important;
}
#rosterPlayerCardKey .legend-age {
font-size: .95rem !important;
font-weight: 500 !important;
}
  /* · · Team chip (resize independent of POS chip) · · */
#rosterPlayerCardKey .legend-team{
  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;
  font-size: 0.9rem !important;
  font-weight: 400 !important;
  color: #EAEBF0 !important;
  padding: 0.4rem 0.55rem !important;   /* ← edit these to resize the TEAM chip */
  border-radius: 6px !important;
  line-height: 1.1 !important;
  white-space: nowrap !important;
}

  /* · · Bottom row container (controls bar height via first padding value) · · */
#rosterPlayerCardKey .legend-bottom-bg{
  display: flex !important;
  align-items: center !important;
  justify-content: space-between !important;
  width: 100% !important;
  padding: 0.85rem 0.85rem !important;   /* ← edit: vertical horizontal */
  box-sizing: border-box !important;
}

  /* · · Bottom row labels and values · · */
#rosterPlayerCardKey .kv-right{
  display: inline-flex !important;
  align-items: center !important;
  gap: 0.35rem !important;               /* label ↔ value gap (edit) */
  color: #9096C0 !important;
  font-weight: 700 !important;
  letter-spacing: .2px !important;
}
#rosterPlayerCardKey .kv-left{
  display: inline-flex !important;
  align-items: center !important;
  gap: 0.35rem !important;
  color: #9096C0 !important;
  font-weight: 700 !important;
  letter-spacing: .2px !important;
  font-size: 1rem !important;            /* explicit since base didn’t define it */
}
#rosterPlayerCardKey .kv-left .value,
#rosterPlayerCardKey .kv-right .value{
  font-size: 1rem !important;            /* numeric size (edit) */
  font-weight: 800 !important;
  line-height: 1.15 !important;
}
#rosterPlayerCardKey .legend-ktc{ color: #00EBC7 !important; }
#rosterPlayerCardKey .legend-adp{ color: #58A7FF !important; }
#rosterPlayerCardKey .legend-ppg{ color: #58A7FF !important; }

  /* · · Footnote · · */
#rosterCardFootnote.legend-footnote{
  font-size: 0.74rem !important;
  color: #5F6795 !important;
}

  /* · · Welcome-only logo + padding (surgical) · · */
#welcome-screen { padding-top: 0.3rem !important; padding-bottom: 0.25rem !important; }
#welcome-screen h1, #welcome-screen h2, #welcome-screen h3 {margin-bottom: 0.05rem !important;margin-top: -0.5rem;}

#welcome-screen .welcome-logo {
  /* Default size can be overridden by setting --welcome-logo-size on the
     #welcome-screen or via a global rule. Value can be px, %, vw, or a
     clamp expression. Percentage values are relative to the containing block. */
  --welcome-logo-size: clamp(72px, 24vw, 128px);
  display: block;
  margin: 0 auto -1rem;
  width: var(--welcome-logo-size);
  height: auto;
  position: relative;
  z-index: 0;
}
#welcome-screen .welcome-logo img {
  display:block; width:100%; height:auto; position:relative; z-index:1;
     -webkit-mask-image: radial-gradient(circle at 52% 51%, rgba(0,0,0,0.81) 40%, rgba(0,0,0,0) 99%);
    mask-image: radial-gradient(circle at 52% 51%, rgba(0,0,0,0.81) 40%, rgba(0,0,0,0) 99%);
    -webkit-mask-repeat: no-repeat;
    mask-repeat: no-repeat;
    -webkit-mask-size: 100% 100%;
    mask-size: 100% 100%;
    filter: drop-shadow(3px 2px 2px #5900ffed) drop-shadow(0px 0px 16px #7300ff58);
    }
#welcome-screen .welcome-logo::after {
  content:""; position:absolute; inset:-4px; border-radius:14px; pointer-events:none; z-index:0;
}

  /* · · Welcome logo gradient glow (safe, no size changes) · · */
#welcome-screen .welcome-logo { position: relative; }
#welcome-screen .welcome-logo img { position: relative; z-index: 1; }
#welcome-screen .welcome-logo::before {
  content: "";
  position: absolute;
  top: 53%; left: 50%;
  transform: translate(-50%, -50%);
  width: 165%; height: 90%;
  background:  radial-gradient(circle at 50% 50%, #5300FF36 0%, #5500ff12 30%, #5500ff04 100%, transparent 100%);
  filter: blur(10px);
  border-radius: 50%;
  z-index: 0;
  pointer-events: none;
}

  /* · · Keep footnote centered space without making the container larger · · */


  /* · · Equalize space above/below the footnote so it sits between the install panel and card bottom · · */
.install-footnote {
  margin: 0.25rem 0 0.25rem 0 !important; /* equal margins, small total */
}

  /* · · Center the footnote between the collapsed install panel and the bottom of the card · · */
.install-footnote {
  text-align: center;
  font-size: 0.74rem;
  color: var(--color-text-tertiary, #5F6795);
  margin-top: 0.42rem;
  margin-bottom: 0.42rem;
  line-height: 1.1;
}

.team-header-item .team-record {
    font-size: 0.58rem;
    color: #9ea5d8;
    white-space: nowrap;
    justify-self: start;
}

#analyzeLeagueButton {
    padding: 0rem 0.6rem;
    font-size: 1.1rem;
    font-weight: 500;
    border: 1px solid #cfafcf8a;
    background: linear-gradient(to bottom, rgba(0,0,0,0.02), rgba(0,0,0,0.2))!important;
    box-shadow: 0 0 9px #eeddff65;
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.2s ease;
    white-space: nowrap;
    color: #d1b1d1aa;
}
/* · · Anlz.Lg button · · */
body[data-page="rosters"] #secondary-header-row #analyzeLeagueButton {
    padding: 0;
    border: none;
    background: transparent !important;
    box-shadow: none;
    }

#analyzeLeagueButton {
  color: #9096C0;            
  margin-top: 2px;               
}

#analyzeLeagueButton i {
  filter:
    drop-shadow(0px 0px 2px  #cfafcf69);
    }


body[data-page="rosters"] #secondary-header-row #analyzeLeagueButton.glow-on-select,
body[data-page="rosters"] #secondary-header-row #analyzeLeagueButton.active {
    box-shadow: none;
    background: transparent;
    border: none;
    color: var(--color-text-primary);
}


/* · · League Analyzer Button · · */

    #analyzeLeagueButton .analyzer-label{
        margin-top: 1px !important;
    }
    #analyzeLeagueButton .analyzer-icon{
        font-size: 1.3rem !important;
        margin-top: 5px !important;
}

  /* · · Global page footnote (bottom of page) · · */
    .page-footnote{
      text-align:center;
      font-size: 0.74rem;
      color: var(--color-text-tertiary, #5F6795);
      line-height: 1.2;
      padding: 0.5rem 0 0.75rem 0;
      margin-top: 0.75rem;
      padding-bottom: 2rem;
  }
    /* · · Desktop-only brightness/contrast boost · · */
      body::before{
          content: "";
          position: fixed;
          inset: 0;
          pointer-events: none;
          z-index: 9999;
          -webkit-backdrop-filter: brightness(115%) contrast(104%) saturate(105%);
          backdrop-filter:         brightness(115%) contrast(104%) saturate(105%);
    }
    
    /* · · Mobile override · · */
    @media (hover: none) and (pointer: coarse){
      body::before{
              -webkit-backdrop-filter: brightness(130%) contrast(106%) saturate(108%);
               backdrop-filter:         brightness(130%) contrast(106%) saturate(108%);
    }
 }


#legend-section {
            background: var(--color-panel-bg);
            border: 1px solid var(--color-panel-border);
            border-radius: var(--panel-border-radius);
            backdrop-filter: blur(3px);
            -webkit-backdrop-filter: blur(3px);
            box-shadow: 0 0 20px rgba(0,0,0,0.3);
}


    

/* =========================
   SYOP PAGE LAYOUT & VISUALS
   ========================= */
body[data-page="research"] {
  background-color: #0a0f1e;
}

body[data-page="research"] .research-header-shell {
  padding: 0.24rem 0.4rem;
  gap: 0.18rem;
}

body[data-page="research"] .research-nav-hidden-inputs {
  position: absolute;
  width: 1px;
  height: 1px;
  margin: -1px;
  border: 0;
  padding: 0;
  clip-path: inset(50%);
  clip: rect(0, 0, 0, 0);
  overflow: hidden;
  white-space: nowrap;
}

body[data-page="research"] .app-header {
  margin-bottom: 1.05rem;
}

@media (min-width: 869px) {
  body[data-page="research"] {
    --research-desktop-content-max: 1250px;
    --research-desktop-panel-width: min(calc(100vw - 3.5rem), var(--research-desktop-content-max));
    --research-desktop-shell-width: min(calc(100vw - 3rem), var(--research-desktop-content-max));
    --research-desktop-nav-button-width: clamp(4.2rem, 4.5vw, 4.85rem);
  }

  body[data-page="research"] #header-container {
    display: flex;
    justify-content: center;
    padding: 0rem 0 0.25rem;
  }

  body[data-page="research"] #header-container .app-header {
    display: inline-flex;
    flex-direction: column;
    align-items: center;
    gap: 0;
    width: fit-content;
    padding: 0.65rem 1.35rem;
    margin-bottom: 0.5rem;
  }

  body[data-page="research"] #header-container .app-header .header-row {
    width: auto;
    display: flex;
    justify-content: center;
    gap: clamp(0.55rem, 1.4vw, 0.85rem);
    padding: 0;
  }

  body[data-page="research"] #header-container .app-header > .header-row:first-of-type {
    grid-template-columns: none;
  }

  body[data-page="research"] #header-container .nav-buttons-container {
    flex: none;
    width: max-content;
    justify-content: center;
    gap: clamp(0.55rem, 1.4vw, 0.85rem);
  }

  body[data-page="research"] #header-container .nav-button {
    flex: 1 1 0;
    width: 6.5rem;
    max-width: none;
    min-height: 2.7rem;
    max-height: 2.7rem;
    height: 2.7rem;
  }

  body[data-page="research"] .syop-main {
    width: min(100%, var(--research-desktop-content-max));
    margin-left: auto;
    margin-right: auto;
  }

  body[data-page="research"] .syop-tabs,
  body[data-page="research"] .syop-tab-panels,
  body[data-page="research"] .syop-tab-panel,
  body[data-page="research"] .syop-section,
  body[data-page="research"] .syop-hero,
  body[data-page="research"] .syop-panels-grid {
    width: 100%;
    max-width: var(--research-desktop-content-max);
    margin-left: auto;
    margin-right: auto;
  }

  body[data-page="research"] .syop-tab {
    font-size: 1.1rem;
  }

  body[data-page="research"] .syop-draft-hero h2 {
    align-self: center;
    font-size: clamp(1.15rem, 1.5rem + 0.95vw, 2.42rem);
  }

  body[data-page="research"] .syop-draft-hero .syop-hero-intro .syop-pill {
    align-self: center;
  }

  body[data-page="research"] .syop-draft-hero p {
    align-self: center;
    font-size: 0.9rem;
    text-align: center;
  }
}

.syop-main {
  display: flex;
  flex-direction: column;
  gap: 0.85rem;
  padding-bottom: 1.5rem;
}

.syop-hero {
  display: flex;
  flex-wrap: wrap;
  gap: 0.7rem;
  padding: 0.7rem 0.9rem 0.78rem;
  background: radial-gradient(circle at 20% 18%, rgba(96, 165, 250, 0.18), transparent 58%),
              radial-gradient(circle at 82% 56%, rgba(192, 132, 252, 0.2), transparent 68%),
              rgba(18, 21, 38, 0.78);
  border: 1px solid rgba(132, 146, 255, 0.16);
  border-radius: 20px;
  box-shadow: 0 14px 28px rgba(7, 10, 20, 0.5);
}

.syop-hero-intro {
  flex: 1 1 260px;
  min-width: 220px;
  display: flex;
  flex-direction: column;
  gap: 0.05rem;
  align-items: center;
}

.syop-hero-summary {
  flex: 1 1 320px;
  display: flex;
  flex-direction: column;
  gap: 0.55rem;
  align-items: stretch;
}

.syop-hero h1 {
  font-size: clamp(1.45rem, 1.18rem + 0.85vw, 1.9rem);
  margin: 0.0rem 0 0.0rem;
  letter-spacing: -0.02em;
  font-weight: 200;
}

.syop-hero p {
  max-width: 42ch;
  color: rgba(233, 236, 249, 0.84);
  font-size: 1rem;
}

.syop-pill {
  display: inline-flex;
  align-items: center;
  gap: 0.4rem;
  padding: 0.28rem 0.68rem;
  border-radius: 999px;
  border: 1px solid rgba(255, 255, 255, 0.12);
  background: rgba(15, 18, 32, 0.6);
  letter-spacing: 0.18em;
  font-size: 0.63rem;
  text-transform: uppercase;
  color: rgba(182, 185, 214, 0.85);
  align-self: center;
}


.syop-key-grid {
  display: grid;
  gap: 0.55rem;
  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
}

.syop-hero-card {
  display: flex;
  flex-direction: column;
  gap: 0.26rem;
  padding: 0.62rem 0.8rem;
  border-radius: 12px;
  background: rgba(16, 20, 34, 0.32);
  border: 1px solid rgba(132, 146, 255, 0.24);
  box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.03), 0 14px 28px rgba(5, 8, 22, 0.28);
}

.syop-hero-card .label {
  font-size: 0.64rem;
  letter-spacing: 0.18em;
  text-transform: uppercase;
  color: rgba(182, 185, 214, 0.8);
}

.syop-hero-card .value {
  font-size: 0.88rem;
  font-weight: 400;
  line-height: 1.28;
  color: rgba(232, 235, 255, 0.94);
}


.syop-hero-meta {
  display: flex;
  flex-direction: column;
  gap: 0.38rem;
  padding: 0;
  width: 100%;
}

.syop-hero-meta-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.28rem;
  padding: 0.36rem 0.85rem;
  min-height: 48px;
  border-radius: 999px;
  background: rgba(16, 20, 34, 0.32);
  border: 1px solid rgba(132, 146, 255, 0.22);
  color: rgba(226, 232, 240, 0.9);
  font-size: 0.74rem;
  font-weight: 500;
  letter-spacing: 0.01em;
  text-align: center;
  width: 100%;
  max-width: 720px;
}

.syop-hero-meta-item .meta-label {
  letter-spacing: 0.14em;
  text-transform: uppercase;
  font-size: 0.61rem;
  color: rgba(182, 185, 214, 0.8);
  font-weight: 500;
}

.syop-hero-meta-item .meta-value {
  font-weight: 300;
  font-size: 0.72rem;
  line-height: 1.24;
}

.syop-tabs {
  display: flex;
  flex-wrap: wrap;
  align-self: stretch;
  justify-content: center;
  gap: 0.3rem;
  padding: 0.18rem;
  border-radius: 12px;
  background: rgba(12, 15, 28, 0.72);
  border: 1px solid rgba(132, 146, 255, 0.16);
  box-shadow: 0 10px 18px rgba(5, 8, 16, 0.36);
}

.syop-tab {
  flex: 1 1 200px;
  border: none;
  border-radius: 10px;
  padding: 0.42rem 0.6rem;
  background: transparent;
  color: rgba(182, 185, 214, 0.85);
  font-size: 0.86rem;
  font-weight: 600;
  letter-spacing: 0.05em;
  text-transform: uppercase;
  transition: background 0.2s ease, color 0.2s ease;
  cursor: pointer;
}

.syop-tab:hover,
.syop-tab:focus {
  color: #f5f7ff;
}
.syop-tab:focus-visible {
  outline: 2px solid rgba(70, 231, 255, 0.6);
  outline-offset: 2px;
}

.syop-tab.active {
  background: linear-gradient(120deg, rgba(70, 231, 255, 0.25), rgba(255, 65, 225, 0.22));
  color: #f5f7ff;
  box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.18);
}

.syop-tab-panels {
  width: 100%;
}

.syop-tab-panel {
  display: none;
  width: 100%;
}

.syop-tab-panel.active {
  display: flex;
}

.syop-tab-panel[hidden] {
  display: none !important;
}

.syop-section {
  display: flex;
  flex-direction: column;
  gap: 0.2rem;
}

.syop-section-heading h2 {
  font-size: clamp(1.6rem, 1.3rem + 1vw, 2.1rem);
  margin: 0;
}

.syop-section-heading p {
  margin: 0.35rem 0 0;
  color: rgba(182, 185, 214, 0.85);
  max-width: 60ch;
}

.syop-panels-grid {
  display: grid;
  gap: 0.75rem;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  grid-auto-flow: row;
}

.syop-panel {
  position: relative;
  padding: 0.9rem 0.85rem;
  border-radius: 16px;
  background: transparent;
  border: none;
  box-shadow: none;
  backdrop-filter: none;
}

.syop-panel.glass-panel {
  border-radius: 16px;
  --outerA: 0.32;
}

.syop-panel header h2 {
  margin: 0;
  font-size: 1.1rem;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: #f4f5fb;
  display: inline-flex;
  flex-wrap: wrap;
}

.syop-panel header h3 {
  font-size: 1rem;
  margin: 0;
  letter-spacing: 0.06em;
  text-transform: uppercase;
  color: #f4f5fb;
}
.syop-panel header h2 {
  font-size: 0.81rem;
  margin: -1px 0px 7px;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: #5F6795;
  border: 1px solid #5F6795;
  padding: 3px 9px;
  border-radius: 8px;
}


.syop-panel header p {
  margin: 0.22rem 0 1rem;
  color: rgba(182, 185, 214, 0.78);
  font-size: 0.86rem;
}

.syop-panel-subhead {
  margin: 0.22rem 0 0.55rem;
  color: rgba(182, 185, 214, 0.78);
  font-size: 0.86rem;
  display: flex;
  flex-wrap: wrap;
  gap: 0.6rem 1.1rem;
  align-items: center;
}

.syop-panel-subhead .syop-line-legend {
  margin: 0;
  gap: 0.75rem;
}

.syop-panel-subhead .legend-item {
  font-size: 0.8rem;
  color: rgba(226, 231, 255, 0.92);
}

.syop-draft-hero {
  margin-bottom: 1.35rem;
  gap: 0.9rem 1.45rem;
  padding: 0.9rem 1.2rem 1.05rem;
  background: radial-gradient(circle at 24% 18%, rgba(96, 165, 250, 0.22), transparent 62%),
              radial-gradient(circle at 86% 58%, rgba(192, 132, 252, 0.24), transparent 70%),
              rgba(18, 21, 38, 0.78);
  border: 1px solid rgba(132, 146, 255, 0.18);
  box-shadow: 0 18px 34px rgba(7, 10, 20, 0.55);
}

.syop-draft-hero .syop-hero-intro {
  flex: 1 1 280px;
  align-items: flex-start;
  text-align: left;
  gap: 0.1rem;
}

.syop-draft-hero .syop-hero-intro .syop-pill {
  align-self: flex-start;
}

.syop-draft-hero .syop-hero-summary {
  flex: 1 1 320px;
  display: flex;
  align-items: stretch;
}

.syop-draft-hero .syop-hero-summary .syop-hero-meta {
  width: 100%;
}

.syop-draft-hero h2 {
  margin: 0.18rem 0 0.12rem;
  font-size: clamp(1.15rem, 1.1rem + 0.85vw, 1.92rem);
  letter-spacing: -0.015em;
  color: rgba(245, 247, 255, 0.96);
  font-weight: 300 !important;
}

.syop-draft-hero p {
  margin: 0;
  color: rgba(186, 194, 230, 0.88);
  font-size: 0.8rem;
  max-width: 46ch;
}

.syop-draft-meta {
  display: flex;
  flex-wrap: wrap;
  gap: 0.6rem 1.1rem;
  align-items: center;
  justify-content: flex-start;
}

.syop-draft-meta .syop-hero-meta-item {
  background: rgba(18, 22, 38, 0.52);
  border: 1px solid rgba(132, 146, 255, 0.18);
  border-radius: 26px;
  padding: 0.45rem 0.8rem;
  backdrop-filter: blur(8px);
}

.syop-draft-meta .syop-hero-meta-item .meta-label {
  color: rgba(190, 198, 236, 0.82);
}

.syop-draft-meta .syop-hero-meta-item .meta-value {
  color: rgba(235, 238, 255, 0.92);
}

#syop-sunburst-panel,
#syop-gauges,
.syop-panel-wide {
  grid-column: 1 / -1;
}

#syop-bar-panel {
  justify-self: center;
  max-width: 720px;
  width: 100%;
}

@media (min-width: 1280px) {
  #syop-bar-panel {
    max-width: 660px;
  }
}

.syop-panel-body {
  display: flex;
  flex-direction: column;
  gap: 0.55rem;
}

.syop-gauges {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 1rem;
  padding: 1.1rem 1.25rem 1.2rem;
  background: transparent;
  border-radius: 16px;
  border: none;
  box-shadow: none;
  backdrop-filter: none;
}

@media (min-width: 869px) {
  .syop-gauges {
    grid-template-columns: repeat(4, minmax(0, 1fr));
    column-gap: clamp(1rem, 2.2vw, 1.75rem);
    row-gap: 0.75rem;
    max-width: none;
    margin-inline: 0;
  }

  .syop-panels-grid > .syop-key-legend {
    grid-column: 1 / -1;
    align-self: stretch;
  }
}

.syop-gauges.glass-panel {
  border-radius: 16px;
  --outerA: 0.32;
}

.syop-gauge-card {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.45rem;
  padding: 0.4rem 0.35rem 0.6rem;
}

.syop-gauge-svg {
  width: 100%;
  height: auto;
  max-width: 260px;
}

.syop-gauge-label {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.15rem;
  text-transform: uppercase;
  letter-spacing: 0.24em;
  font-size: 0.64rem;
}

.syop-gauge-label .gauge-value {
  font-size: 1.08rem;
  font-weight: 700;
}

.syop-gauge-label .gauge-title {
  font-size: 0.58rem;
  letter-spacing: 0.32em;
}

.syop-heatmap-row.syop-heatmap-header .position-header {
  color: rgba(244, 246, 255, 0.82);
}

.syop-heatmap-row.syop-heatmap-header .position-header::after {
  content: '';
  display: block;
  margin-top: 0.35rem;
  width: 100%;
  height: 2px;
  border-radius: 999px;
  background: linear-gradient(90deg, rgba(255, 255, 255, 0.08), var(--header-accent));
}

.syop-heatmap-cell {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0.5rem 0.55rem;
  border-radius: 12px;
  background: rgba(12, 15, 28, 0.72);
  border: 1px solid rgba(132, 146, 255, 0.12);
  min-height: 46px;
}

.syop-heatmap-cell.bucket-cell {
  justify-content: center;
  font-weight: 700;
  font-size: 0.76rem;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  color: rgba(182, 185, 214, 0.85);
  background: rgba(10, 13, 24, 0.82);
}

.syop-heatmap-cell.value-cell {
  color: #f5f7ff;
  font-weight: 600;
  font-size: 0.84rem;
  border: 1px solid rgba(132, 146, 255, 0.18);
  box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.02);
}

.syop-heatmap-bar {
  position: absolute;
  left: 6px;
  top: 6px;
  bottom: 6px;
  border-radius: 8px;
  opacity: 0.9;
}

.syop-heatmap-value {
  position: relative;
  z-index: 1;
  text-shadow: 0 0 6px rgba(11, 14, 22, 0.6);
}

.syop-chart {
  width: 100%;
  min-height: 240px;
  position: relative;
}

.syop-chart svg {
  width: 100%;
  height: auto;
}

.syop-chart svg text,
.syop-sunburst-svg text {
  font-family: inherit;
  font-variant-numeric: tabular-nums;
}

.syop-sunburst-svg {
  width: 100%;
  height: auto;
  max-width: 540px;
  margin: 0 auto;
}

.syop-empty-state {
  margin: 2rem auto;
  text-align: center;
  color: rgba(233, 236, 249, 0.8);
}

.syop-highlight-list,
.syop-qa-list {
  display: grid;
  gap: 0.85rem;
  margin: 0;
  padding: 0;
  list-style: none;
}

.syop-highlight-list li {
  display: grid;
  grid-template-columns: auto 1fr;
  gap: 0.65rem;
  align-items: baseline;
  color: rgba(233, 236, 249, 0.82);
  font-size: 0.95rem;
}

.syop-highlight-list .highlight-label {
  font-weight: 600;
}

.syop-qa-list li {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0.65rem 0.85rem;
  border-radius: 14px;
  font-size: 0.9rem;
  letter-spacing: 0.02em;
}

.syop-qa-list .qa-name {
  font-weight: 600;
}

.syop-qa-list .qa-status {
  font-weight: 700;
  letter-spacing: 0.12em;
}

.syop-qa-list .qa-pass {
  background: rgba(16, 94, 72, 0.35);
  border: 1px solid rgba(34, 197, 94, 0.35);
  color: rgba(212, 255, 230, 0.92);
}

.syop-qa-list .qa-fail {
  background: rgba(127, 29, 29, 0.35);
  border: 1px solid rgba(239, 68, 68, 0.32);
  color: rgba(255, 228, 230, 0.9);
}

.syop-footnote {
  margin: 0.2rem 0 0;
  font-size: 0.8rem;
  color: rgba(182, 185, 214, 0.72);
  text-align: center;
}

.syop-key-legend {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  margin-top: 0.35rem;
  padding: 0.75rem 0.9rem;
  background: radial-gradient(circle at 18% 18%, rgba(96, 165, 250, 0.18), transparent 60%),
              radial-gradient(circle at 82% 62%, rgba(192, 132, 252, 0.22), transparent 70%),
              rgba(13, 16, 32, 0.46);
  border: 1px solid rgba(138, 152, 255, 0.28);
  border-radius: 16px;
  box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.04), 0 22px 36px rgba(6, 9, 24, 0.52);
  backdrop-filter: blur(0px) saturate(120%);
}

.syop-key-legend .syop-key-grid {
  gap: 0.5rem;
}

.syop-key-legend .syop-hero-card {
  background: rgba(16, 20, 36, 0.42);
  border-color: rgba(148, 162, 255, 0.32);
  border-radius: 999px;
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.05), 0 14px 22px rgba(6, 9, 24, 0.42);
  backdrop-filter: blur(0px) saturate(120%);
  align-items: center;
  text-align: center;
}

.syop-key-legend .syop-hero-card .label {
  color: rgba(188, 194, 236, 0.84);
}

.syop-key-legend .syop-hero-card .value {
  color: rgba(232, 235, 255, 0.95);
}

.syop-key-legend .syop-hero-card .value-mobile {
  display: none;
}

.syop-line-legend {
  display: flex;
  flex-wrap: wrap;
  gap: 0.8rem;
  margin-bottom: 0.75rem;
}

.legend-item {
  display: inline-flex;
  align-items: center;
  gap: 0.4rem;
  font-size: 0.85rem;
  color: rgba(233, 236, 249, 0.85);
}

.legend-swatch {
  width: 0.75rem;
  height: 0.75rem;
  border-radius: 999px;
}

.draft-round-chip-container {
  margin-top: 0.01rem;
}

.draft-round-chip-grid {
  display: grid;
  grid-template-columns: repeat(var(--round-count), minmax(0, 1fr));
  gap: 3rem;
}

.draft-round-chip-col {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: .35rem;
  min-width: 0;
}

.draft-round-chip {
  display: inline-flex;
  align-items: center;
  gap: 0.3rem;
  padding: 0.18rem 0.55rem;
  border-radius: 999px;
  background: rgba(17, 20, 35, 0.72);
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.04), 0 8px 16px rgba(6, 9, 24, 0.32);
  font-size: 0.62rem;
  font-weight: 600;
  letter-spacing: 0.01em;
  white-space: nowrap;
}

.draft-round-chip-dot {
  width: 0.45rem;
  height: 0.45rem;
  border-radius: 999px;
  flex: 0 0 auto;
}

.draft-round-chip-value {
  color: var(--chip-accent, rgba(232, 235, 255, 0.88));
  font-variant-numeric: tabular-nums;
  font-weight: 700;
}

.draft-round-chip-col .draft-round-chip:not(:last-child) {
  margin-bottom: 0.15rem;
}

.draft-round-tiles {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(87px, 1fr));
  gap: 0.1rem;
  margin-top: 0.35rem;
}

.draft-tile {
  display: flex;
  align-items: center;
   gap: 0.25rem;
    padding: 0.5rem 0.5rem 0.5rem 0.3rem;
  border-radius: 16px;
  background: rgba(17, 20, 35, 0.7);
  border: 1px solid rgba(255, 255, 255, 0.08);
  font-size: 0.8rem
}

.draft-tile-round {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 27px;
  min-height: 27px;
  padding: 0 0.25rem;
  border-radius: 10px;
  font-weight: 500;
  font-size: 0.8rem;
  background: rgba(9, 11, 24, 0.8);
  border: 1px solid rgba(255, 255, 255, 0.12);
}

.draft-tile-value {
  font-weight: 600;
  color: #e9ecf9;
}

.syop-chart-footnote {
  margin: 0.25rem 0 0;
  font-size: 0.8rem;
  color: rgba(182, 185, 214, 0.78);
}

.draft-pill {
  align-self: center;
  padding: 0.55rem 1.6rem;
  border-radius: 999px;
  background: linear-gradient(90deg, rgba(70, 231, 255, 0.24), rgba(255, 65, 225, 0.24));
  border: 1px solid rgba(255, 255, 255, 0.12);
  letter-spacing: 0.22em;
  font-size: 0.75rem;
  text-transform: uppercase;
  color: rgba(233, 236, 249, 0.92);
  text-align: center;
}

@media (min-width: 768px) {
  .syop-hero-intro {
    align-items: flex-start;
  }

  .syop-pill {
    align-self: flex-start;
  }

  .syop-hero-meta {
    align-items: flex-start;
  }

  .syop-hero-meta-item {
    align-items: center;
    text-align: center;
  }
}

/* Responsive refinements */
@media (min-width: 869px) {
  .syop-panel-wide {
    grid-column: 1 / -1;
  }

  .syop-lower-panels {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }

  .syop-draft-grid {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }

  .syop-hero h1 {
    font-size: clamp(3.45rem, 1.18rem + 0.85vw, 1.9rem);
    margin: 0.0rem 0 0.0rem;
    letter-spacing: -0.02em;
    font-weight: 200;
    text-align: center;
  }
}

@media (max-width: 768px) {
  .syop-hero {
    padding: 0.6rem 0.75rem 0.66rem;
    gap: 0.58rem;
  }

  .syop-hero-intro {
    align-items: center;
  }

  .syop-hero h1 {
    text-align: center;
  }

  .syop-pill {
    align-self: center;
  }

  .syop-hero-summary {
    align-items: center;
  }

  .syop-hero-card {
    padding: 0.56rem 0.72rem;
  }

  .syop-hero-card .value {
    font-size: 0.86rem;
  }

  .syop-hero-meta {
    gap: 0.28rem;
    align-items: center;
  }

  .syop-hero-meta-item {
    min-height: 42px;
  }

  .syop-tabs {
    padding: 0.14rem;
  }

  .syop-tab {
    flex: 1 1 150px;
    padding: 0.36rem 0.48rem;
    font-size: 0.8rem;
  }

  .syop-panel,
  .syop-gauges {
    padding: 0.85rem;
  }

  .syop-gauges {
    grid-template-columns: repeat(2, minmax(0, 1fr));
    gap: 0.85rem;
  }

  .syop-heatmap {
    padding: 0.48rem;
    gap: 0.28rem;
  }

  .syop-heatmap-row {
    grid-template-columns: minmax(42px, 0.75fr) repeat(4, minmax(0, 1fr));
  }

  .syop-heatmap-cell {
    min-height: 42px;
    padding: 0.45rem 0.5rem;
  }

  .syop-heatmap-cell.value-cell {
    font-size: 0.8rem;
  }

  .syop-key-legend {
    padding: 0.65rem 0.75rem;
  }
}

@media (max-width: 540px) {
  .syop-hero {
    padding: 0.54rem 0.65rem 0.6rem;
  }

  .syop-hero h1 {
    font-size: clamp(1.2rem, 3.6vw, 1.18rem);
    white-space: nowrap;
    text-align: center;
    letter-spacing: -0.018em;
  }

  .syop-hero-summary {
    gap: 0.45rem;
  }

  .syop-hero-card {
    padding: 0.52rem 0.68rem;
  }

  .syop-hero-card .label {
    font-size: 0.56rem;
    letter-spacing: 0.15em;
  }

  .syop-hero-card .value {
    font-size: 0.78rem;
  }

  .syop-hero-meta {
    gap: 0.24rem;
  }

  .syop-hero-meta-item {
    padding: 0.2rem 0.52rem;
    font-size: 0.7rem;
    min-height: 36px;
  }

  .syop-hero-meta-item .meta-label {
    font-size: 0.54rem;
  }

  .syop-tab {
    flex: 1 1 130px;
    padding: 0.32rem 0.44rem;
    font-size: 0.76rem;
  }

  .syop-panel,
  .syop-gauges {
    padding: 0.72rem;
  }

  .syop-gauges {
    grid-template-columns: repeat(2, minmax(0, 1fr));
    gap: 0.75rem;
  }

  .syop-section-heading p {
    font-size: 0.86rem;
  }

  .syop-heatmap {
    padding: 0.42rem;
  }

  .syop-heatmap-row {
    grid-template-columns: minmax(38px, 0.7fr) repeat(4, minmax(0, 1fr));
  }

  .syop-heatmap-cell {
    min-height: 40px;
    padding: 0.42rem 0.46rem;
  }

  .syop-heatmap-cell.bucket-cell {
    font-size: 0.7rem;
  }

  .syop-heatmap-cell.value-cell {
    font-size: 0.76rem;
  }

  .syop-key-legend {
    padding: 0.58rem 0.65rem;
  }

  .syop-key-legend .syop-key-grid {
    display: flex;
    flex-wrap: wrap;
    gap: 0.45rem;
    justify-content: center;
    align-items: stretch;
  }

  .syop-key-legend .syop-hero-card {
    padding: 0.2rem 0.2rem;
    min-width: 140px;
    flex: 0 1 calc(50% - 0.3rem);
    align-items: center;
    text-align: center;
  }

  .syop-key-legend .syop-hero-card .value-desktop {
    display: none;
  }

  .syop-key-legend .syop-hero-card .value-mobile {
    display: block;
    font-size: 0.78rem;
    line-height: 1.28;
    color: rgba(232, 235, 255, 0.95);
  }
}

@media (max-width: 380px) {
  .syop-gauges {
    grid-template-columns: 1fr;
    gap: 0.65rem;
  }

  .syop-gauge-label .gauge-value {
    font-size: 1rem;
  }

  .syop-gauge-label .gauge-title {
    letter-spacing: 0.28em;
  }

  .syop-heatmap-row {
    grid-template-columns: minmax(34px, 0.65fr) repeat(4, minmax(0, 1fr));
  }

  .syop-heatmap-cell {
    padding: 0.38rem 0.42rem;
    min-height: 38px;
  }

  .syop-heatmap-cell.value-cell {
    font-size: 0.72rem;
  }
}
.syop-bar-controls {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: 0.9rem;
  margin-bottom: 1rem;
}

.syop-filter-label {
  font-size: 0.72rem;
  letter-spacing: 0.28em;
  text-transform: uppercase;
  color: rgba(182, 185, 214, 0.78);
}

.syop-position-legend {
  display: flex;
  flex-wrap: nowrap;
  gap: 0.65rem;
  align-items: center;
  overflow-x: auto;
  padding-bottom: 0.2rem;
}

.syop-position-legend::-webkit-scrollbar {
  height: 4px;
}

.syop-position-legend::-webkit-scrollbar-thumb {
  background: rgba(120, 130, 190, 0.45);
  border-radius: 999px;
}

.syop-legend-chip {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 76px;
  padding: 0.55rem 0.75rem;
  border-radius: 16px;
  border: 1px solid rgba(132, 146, 255, 0.22);
  background: linear-gradient(135deg, rgba(16, 19, 36, 0.78), rgba(10, 13, 24, 0.6));
  box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.04), 0 10px 24px rgba(10, 16, 38, 0.38);
  cursor: pointer;
  color: rgba(235, 238, 255, 0.92);
  backdrop-filter: blur(12px);
  transition: transform 0.18s ease, border-color 0.18s ease, box-shadow 0.18s ease;
  text-align: center;
}

.syop-legend-chip .chip-label {
  font-size: 0.68rem;
  letter-spacing: 0.24em;
  text-transform: uppercase;
  color: rgba(244, 246, 255, 0.92);
}

.syop-legend-chip:hover,
.syop-legend-chip:focus-visible {
  border-color: rgba(132, 146, 255, 0.45);
  transform: translateY(-1px);
  box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.06), 0 12px 26px rgba(12, 18, 44, 0.45);
  outline: none;
}

.syop-legend-chip.active {
  border-color: rgba(255, 255, 255, 0.42);
  background: radial-gradient(circle at top right, rgba(255, 255, 255, 0.16), rgba(20, 25, 44, 0.82));
  box-shadow: 0 18px 32px rgba(14, 22, 48, 0.58);
}

.syop-legend-chip.active .chip-label {
  color: var(--chip-accent, #7c83ff);
}

.syop-view-toggle {
  margin-left: auto;
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.5rem 0.9rem;
  border-radius: 999px;
  border: 1px solid rgba(148, 163, 255, 0.28);
  background: rgba(20, 24, 42, 0.72);
  color: rgba(232, 236, 255, 0.94);
  letter-spacing: 0.08em;
  font-size: 0.8rem;
  text-transform: uppercase;
  cursor: pointer;
  transition: border-color 0.2s ease, background 0.2s ease, color 0.2s ease;
}

.syop-view-toggle:hover,
.syop-view-toggle:focus-visible {
  border-color: rgba(132, 146, 255, 0.6);
  background: rgba(24, 30, 54, 0.9);
  outline: none;
}


.syop-bar-wrapper {
  position: relative;
}
/* · · background of SYOP BAR CHARTS · · */
.syop-violin-panel {
  position: relative;
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
  padding: 0.85rem 0.85rem 1rem;
  border-radius: 20px;
  background:
    radial-gradient(circle at 18% 12%, rgba(118, 132, 255, 0.1), transparent 55%),
    radial-gradient(circle at 78% 88%, rgba(66, 194, 255, 0.1), transparent 62%),
    linear-gradient(135deg, rgba(12, 17, 34, 0.32), rgba(9, 12, 26, 0.18));
  border: 1px solid rgba(148, 163, 255, 0.1);
  box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.04), 0 24px 42px rgba(6, 10, 26, 0.35);
  backdrop-filter: blur(1px) saturate(140%);
  -webkit-backdrop-filter: blur(1px) saturate(140%);
  overflow: hidden;
  width: min(100%, 580px);
  margin: 0 auto;
}

.syop-violin-panel::before,
.syop-violin-panel::after {
  content: '';
  position: absolute;
  inset: -20% -26%;
  pointer-events: none;
  opacity: 0.2;
  mix-blend-mode: screen;
  filter: blur(1px);
}

.syop-violin-panel::before {
  background: radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0.1), transparent 58%);
}

.syop-violin-panel::after {
  background: radial-gradient(circle at 70% 70%, rgba(82, 196, 255, 0.12), transparent 62%);
  opacity: 0.1;
}

.syop-violin-header {
  display: flex;
  align-items: center;
  justify-content: flex-start;
  gap: 1rem;
}

.syop-violin-title-block {
  display: flex;
  flex-direction: column;
  gap: 0.35rem;
}

.syop-violin-title {
  margin: 0;
  font-size: 1.1rem;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: rgba(244, 247, 255, 0.96);
}

.syop-violin-meta {
  display: flex;
  gap: 0.6rem;
  font-size: 0.78rem;
  color: rgba(177, 185, 225, 0.82);
  letter-spacing: 0.04em;
}

.syop-violin-chip {
  display: inline-flex;
  flex-direction: column;
  align-items: flex-end;
  gap: 0.12rem;
  padding: 0.55rem 0.75rem;
  border-radius: 14px;
  background: rgba(26, 30, 53, 0.4);
  border: 1px solid rgba(255, 255, 255, 0.08);
  box-shadow: inset 0 0 12px rgba(255, 255, 255, 0.05), 0 12px 20px rgba(12, 16, 34, 0.45);
  color: rgba(235, 238, 255, 0.92);
  backdrop-filter: blur(5px);
}

.syop-violin-chip .chip-label {
  font-size: 0.7rem;
  letter-spacing: 0.16em;
  text-transform: uppercase;
  color: rgba(190, 198, 236, 0.86);
}

.syop-violin-chip .chip-value {
  font-size: 1.08rem;
  font-weight: 700;
  color: var(--chip-accent, #7c83ff);
}

.syop-bar-plot {
  width: 100%;
  min-height: 220px;
  position: relative;
}

.syop-bar-svg {
  width: 100%;
  height: auto;
  display: block;
}

.syop-bar-area {
  fill: rgba(8, 12, 24, 0.08);
  stroke: rgba(148, 162, 255, 0.1);
  stroke-width: 1px;
}

.syop-bar-grid {
  stroke: rgba(255, 255, 255, 0.05);
  stroke-width: 1;
}

.syop-bar-axis {
  stroke: rgba(140, 154, 255, 0.26);
  stroke-width: 1.4;
}

.syop-bar-tick-label {
  font-size: 0.7rem;
  fill: rgba(186, 194, 230, 0.86);
  letter-spacing: 0.05em;
  text-anchor: end;
}

.syop-bar-axis-title {
  font-size: 0.62rem;
  fill: rgba(176, 186, 226, 0.82);
  letter-spacing: 0.18em;
  text-transform: uppercase;
  text-anchor: middle;
}

.syop-bar-axis-title-y {
  text-anchor: middle;
}

.syop-bar-axis-title-x {
  text-anchor: middle;
}

.syop-bar-x-label {
  font-size: 0.74rem;
  fill: rgba(186, 194, 230, 0.88);
  letter-spacing: 0.06em;
  text-anchor: middle;
}

.syop-bar-rect {
  fill: var(--bar-fill, rgba(124, 131, 255, 0.28));
  stroke: var(--bar-stroke, rgba(124, 131, 255, 0.6));
  stroke-width: 1.6;
  cursor: pointer;
  opacity: 0.88;
  transition: transform 0.18s ease, stroke-width 0.18s ease, filter 0.18s ease, opacity 0.18s ease;
  filter: drop-shadow(0 12px 18px rgba(5, 9, 24, 0.32));
}

.syop-bar-rect:hover,
.syop-bar-rect:focus-visible,
.syop-bar-rect.active {
  transform: translateY(-4px);
  stroke-width: 2.2;
  outline: none;
  opacity: 1;
}

.syop-bar-tooltip {
  position: absolute;
  z-index: 10;
  pointer-events: none;
  opacity: 0;
  transform: translate(-50%, calc(-100% - 12px));
  background: rgba(14, 18, 34, 0.92);
  border: 1px solid rgba(255, 255, 255, 0.18);
  border-radius: 12px;
  padding: 0.55rem 0.75rem;
  min-width: 160px;
  max-width: 220px;
  box-shadow: 0 18px 28px rgba(10, 14, 32, 0.58), 0 0 0 1px var(--tooltip-accent, rgba(124, 131, 255, 0.5));
  backdrop-filter: blur(14px);
  transition: opacity 0.15s ease;
  color: rgba(238, 240, 255, 0.95);
}

.syop-bar-tooltip::after {
  content: '';
  position: absolute;
  bottom: -8px;
  left: 50%;
  transform: translateX(-50%);
  border-width: 8px 7px 0 7px;
  border-style: solid;
  border-color: rgba(14, 18, 34, 0.92) transparent transparent transparent;
}

.syop-bar-tooltip.visible {
  opacity: 1;
}

.syop-bar-tooltip .tooltip-name {
  font-size: 0.92rem;
  font-weight: 600;
  letter-spacing: 0.04em;
  color: rgba(248, 250, 255, 0.96);
}

.syop-bar-tooltip .tooltip-meta {
  font-size: 0.75rem;
  color: rgba(177, 185, 214, 0.86);
  letter-spacing: 0.04em;
  margin-top: 0.15rem;
}

.syop-violin-empty {
  padding: 1.2rem;
  text-align: center;
  color: rgba(182, 190, 228, 0.84);
  letter-spacing: 0.04em;
}

.syop-table-wrapper {
  width: 100%;
  overflow-x: auto;
  border-radius: 18px;
  border: 1px solid rgba(132, 146, 255, 0.24);
  background: linear-gradient(150deg, rgba(16, 20, 36, 0.52), rgba(8, 11, 22, 0.34));
  box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.02), 0 20px 34px rgba(10, 14, 32, 0.5);
  backdrop-filter: blur(1px);
}

.syop-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.82rem;
  color: rgba(232, 236, 255, 0.92);
}

.syop-table caption {
  caption-side: top;
  text-align: center;
  padding: 0.9rem 1.1rem 0.5rem;
  font-size: 0.9rem;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: rgba(190, 198, 236, 0.9);
}

.syop-table th,
.syop-table td {
  padding: 0.75rem 1.1rem;
  border-bottom: 1px solid rgba(148, 163, 255, 0.16);
  text-align: center;
}

.syop-table th {
  font-weight: 600;
  color: rgba(214, 220, 255, 0.9);
  letter-spacing: 0.08em;
  text-transform: uppercase;
  font-size: 0.72rem;
  text-align: center;
}

.syop-table tbody tr:last-child th,
.syop-table tbody tr:last-child td {
  border-bottom: none;
}

.syop-table tbody tr:hover {
  background: rgba(20, 24, 44, 0.55);
}

@media (max-width: 920px) {
  .syop-violin-panel {
    padding: 0.8rem 0.85rem 0.95rem;
  }
}

@media (max-width: 480px) {
  .syop-bar-controls {
    gap: 0.7rem;
  }

  .syop-view-toggle {
    margin-left: 0;
  }
}

@media (max-width: 360px) {
  .syop-legend-chip {
    min-width: 0;
  }
}




/* === DevTools screenshot CSS overrides (v3) === */

/* Toggle button pill */
.compare-search-toggle {
  background: rgba(22, 24, 43, 0.15);   /* stronger fill */
}

/* Popover container */
.compare-search-popover {
  right: 6px;
  top: 58%;
  padding: 0px 0px 0px;                /* trim bottom */
}


/* Search input */
#compareSearchInput {
  margin-top: 0px;                      /* tighter spacing */
  background: rgb(67 71 87 / 63%);
}


/* === League Analyzer Refresh === */
body[data-page="analyzer"] {
  --analyzer-rank-glyph-font: 12px "Product Sans", "Google Sans", sans-serif;
}

body[data-page="analyzer"] .analyzer-main {
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
  padding-bottom: 3rem;
}

body[data-page="analyzer"] .analyzer-hero {
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
  padding: 1.75rem;
  border-radius: var(--panel-border-radius);
  background: rgba(13, 15, 35, 0.35);
  border: 1px solid rgba(128, 138, 189, 0.25);
}

body[data-page="analyzer"] .analyzer-hero-intro {
  max-width: 680px;
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
}

body[data-page="analyzer"] .analyzer-pill {
  display: inline-flex;
  align-items: center;
  gap: 0.4rem;
  font-size: 0.75rem;
  text-transform: uppercase;
  letter-spacing: 0.18em;
  color: var(--color-text-secondary);
  background: rgba(118, 109, 255, 0.12);
  border: 1px solid rgba(118, 109, 255, 0.4);
  border-radius: 999px;
  padding: 0.35rem 0.9rem;
}

body[data-page="analyzer"] .analyzer-hero h1 {
  font-size: clamp(1.65rem, 2.8vw, 2.4rem);
  line-height: 1.2;
  margin: 0;
}

body[data-page="analyzer"] .analyzer-hero p {
  color: var(--color-text-secondary);
  max-width: 620px;
  font-size: 0.95rem;
  line-height: 1.6;
}

body[data-page="analyzer"] .analyzer-loading {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 2.25rem 1.5rem;
  font-size: 1.05rem;
  color: var(--color-text-secondary);
}

body[data-page="analyzer"] .loading-indicator {
  display: inline-flex;
  align-items: center;
  gap: 0.75rem;
}

body[data-page="analyzer"] .loading-indicator::before {
  content: '';
  height: 0.9rem;
  width: 0.9rem;
  border-radius: 999px;
  border: 2px solid rgba(118, 109, 255, 0.35);
  border-top-color: rgba(118, 109, 255, 0.9);
  animation: analyzer-spin 1.1s linear infinite;
}

@keyframes analyzer-spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

body[data-page="analyzer"] .analyzer-summary-grid {
  display: grid;
  gap: 0.75rem;
  grid-template-columns: repeat(auto-fit, minmax(128px, 1fr));
}

body[data-page="analyzer"] .analyzer-chip {
  position: relative;
  padding: 0.85rem 0.95rem;
  border-radius: 14px;
  border: 1px solid rgba(128, 138, 189, 0.22);
  background: linear-gradient(135deg, rgba(22, 25, 48, 0.62), rgba(11, 12, 26, 0.62));
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.08), 0 12px 28px rgba(5, 7, 15, 0.32);
  display: flex;
  flex-direction: column;
  gap: 0.4rem;
  min-height: 96px;
}

body[data-page="analyzer"] .analyzer-chip::after {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: inherit;
  pointer-events: none;
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.05), transparent 55%);
}

body[data-page="analyzer"] .analyzer-chip .chip-label {
  font-size: 0.68rem;
  text-transform: uppercase;
  letter-spacing: 0.18em;
  color: var(--color-text-secondary);
}

body[data-page="analyzer"] .analyzer-chip .chip-value {
  font-size: 1.22rem;
  font-weight: 700;
  color: var(--color-text-primary);
}

body[data-page="analyzer"] .analyzer-chip .chip-meta {
  font-size: 0.78rem;
  color: var(--color-text-secondary);
  line-height: 1.35;
  margin-top: auto;
}

body[data-page="analyzer"] .analyzer-chip--top-scorer .chip-value {
  font-size: 0.96rem;
  line-height: 1.2;
  white-space: nowrap;
}

body[data-page="analyzer"] .analyzer-chip--top-scorer .chip-meta {
  font-size: 0.72rem;
}

@media (max-width: 640px) {
  body[data-page="analyzer"] .analyzer-summary-grid {
    grid-template-columns: repeat(3, minmax(0, 1fr));
  }
}

body[data-page="analyzer"] .analyzer-content {
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
}

body[data-page="analyzer"] .analyzer-panels-grid {
  display: grid;
  gap: 1.5rem;
  grid-template-columns: 1fr;
}

@media (min-width: 869px) {
  body[data-page="analyzer"] .analyzer-panels-grid {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
}

body[data-page="analyzer"] .analyzer-panel {
  display: flex;
  flex-direction: column;
  gap: 1.25rem;
  padding: 1.5rem;
  border-radius: var(--panel-border-radius);
  background: rgba(13, 15, 35, 0.42);
  border: 1px solid rgba(128, 138, 189, 0.25);
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.05), 0 18px 42px rgba(4, 6, 15, 0.45);
}

body[data-page="analyzer"] .analyzer-panel-header {
  display: flex;
  justify-content: space-between;
  gap: 1rem;
  flex-wrap: wrap;
}

body[data-page="analyzer"] .analyzer-panel-header h2 {
  margin: 0;
  font-size: 1.25rem;
}

body[data-page="analyzer"] .analyzer-panel-header p {
  margin: 0.2rem 0 0;
  color: var(--color-text-secondary);
  font-size: 0.85rem;
}

body[data-page="analyzer"] .analyzer-panel-body {
  position: relative;
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

body[data-page="analyzer"] .analyzer-chart {
  position: relative;
  width: 100%;
  height: 400px;
}

body[data-page="analyzer"] .analyzer-chart--radar {
  min-height: 380px;
  padding: 0;
}

body[data-page="analyzer"] .analyzer-radar-section {
  padding-top: 1.25rem;
  gap: 1rem;
}

@media (max-width: 640px) {
  body[data-page="analyzer"] .analyzer-radar-section {
    padding-left: 0.75rem;
    padding-right: 0.75rem;
  }
}

body[data-page="analyzer"] .analyzer-radar-section .analyzer-panel-body--stacked {
  gap: 1rem;
}

body[data-page="analyzer"] .analyzer-panel-body--stacked {
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
}

@media (min-width: 869px) {
  body[data-page="analyzer"] .analyzer-panel-body--stacked {
    flex-direction: row;
    align-items: stretch;
  }
  body[data-page="analyzer"] .analyzer-panel-body--stacked > * {
    flex: 1 1 0%;
  }
  body[data-page="analyzer"] .analyzer-chart--radar {
    height: auto;
  }
}

body[data-page="analyzer"] .analyzer-toggle {
  display: inline-flex;
  background: rgba(19, 21, 38, 0.75);
  border: 1px solid rgba(118, 109, 255, 0.25);
  border-radius: 999px;
  padding: 0.25rem;
  gap: 0.35rem;
}

body[data-page="analyzer"] .analyzer-toggle .toggle-option {
  border: none;
  background: transparent;
  color: var(--color-text-secondary);
  font-size: 0.8rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.14em;
  border-radius: 999px;
  padding: 0.45rem 0.9rem;
  transition: all 0.2s ease;
}

body[data-page="analyzer"] .analyzer-toggle .toggle-option.active {
  background: linear-gradient(135deg, rgba(118, 109, 255, 0.8), rgba(118, 109, 255, 0.45));
  color: #fff;
  box-shadow: 0 6px 16px rgba(118, 109, 255, 0.35);
}

body[data-page="analyzer"] .analyzer-toggle .toggle-option:focus-visible {
  outline: 2px solid rgba(118, 109, 255, 0.65);
}

body[data-page="analyzer"] .analyzer-standings {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
  background: rgba(15, 17, 38, 0.55);
  border: 1px solid rgba(118, 109, 255, 0.18);
  border-radius: 16px;
  padding: 1.1rem 1.25rem;
}

body[data-page="analyzer"] .analyzer-standings-header h3 {
  margin: 0;
  font-size: 1.05rem;
}

body[data-page="analyzer"] .analyzer-standings-header p {
  margin: 0.3rem 0 0;
  color: var(--color-text-secondary);
  font-size: 0.8rem;
}

body[data-page="analyzer"] .analyzer-standings-table-wrapper {
  overflow-x: auto;
}

body[data-page="analyzer"] .analyzer-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.88rem;
}

body[data-page="analyzer"] .analyzer-table thead tr {
  text-transform: uppercase;
  letter-spacing: 0.12em;
  color: var(--color-text-secondary);
  font-size: 0.7rem;
}

body[data-page="analyzer"] .analyzer-table th,
body[data-page="analyzer"] .analyzer-table td {
  padding: 0.5rem 0.6rem;
  border-bottom: 1px solid rgba(128, 138, 189, 0.18);
  text-align: left;
  white-space: nowrap;
}

body[data-page="analyzer"] .analyzer-table tbody tr:last-child th,
body[data-page="analyzer"] .analyzer-table tbody tr:last-child td {
  border-bottom: none;
}

body[data-page="analyzer"] .analyzer-filter-group {
  display: inline-flex;
  gap: 0.4rem;
  background: rgba(18, 20, 40, 0.75);
  border: 1px solid rgba(118, 109, 255, 0.25);
  border-radius: 999px;
  padding: 0.2rem 0.3rem;
}

body[data-page="analyzer"] .analyzer-filter-group .filter-chip {
  border: none;
  background: transparent;
  color: var(--color-text-secondary);
  padding: 0.35rem 0.7rem;
  border-radius: 999px;
  font-size: 0.72rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.12em;
  transition: all 0.2s ease;
}

body[data-page="analyzer"] .analyzer-filter-group .filter-chip.active {
  background: linear-gradient(135deg, rgba(118, 109, 255, 0.85), rgba(118, 109, 255, 0.45));
  color: #fff;
  box-shadow: 0 6px 16px rgba(118, 109, 255, 0.3);
}

body[data-page="analyzer"] .analyzer-leaderboard {
  overflow-x: auto;
}

body[data-page="analyzer"] .analyzer-leaderboard .empty-row {
  text-align: center;
  padding: 1.5rem 0;
  color: var(--color-text-secondary);
}

body[data-page="analyzer"] .analyzer-leaderboard table th:first-child,
body[data-page="analyzer"] .analyzer-leaderboard table td:first-child {
  text-align: center;
}

body[data-page="analyzer"] .analyzer-leaderboard table th:nth-child(5),
body[data-page="analyzer"] .analyzer-leaderboard table td:nth-child(5),
body[data-page="analyzer"] .analyzer-leaderboard table th:nth-child(6),
body[data-page="analyzer"] .analyzer-leaderboard table td:nth-child(6) {
  text-align: center;
}

body[data-page="analyzer"] .analyzer-leaderboard .owner-cell {
  font-size: 0.78rem;
  color: var(--color-text-secondary);
  white-space: nowrap;
}

body[data-page="analyzer"] .analyzer-leaderboard table td:nth-child(2) {
  white-space: nowrap;
}

body[data-page="analyzer"] .app-header {
  --header-field-max-width: 140px;
}

@media (max-width: 640px) {
  body[data-page="analyzer"] .analyzer-chip {
    min-height: 110px;
  }
  body[data-page="analyzer"] .analyzer-table {
    font-size: 0.74rem;
  }
  body[data-page="analyzer"] .analyzer-table th,
  body[data-page="analyzer"] .analyzer-table td {
    padding: 0.35rem 0.45rem;
  }
  body[data-page="analyzer"] .analyzer-panel {
    padding: 1.25rem 0.5rem;
  }
  body[data-page="analyzer"] .analyzer-chart {
    height: 320px;
  }
  body[data-page="analyzer"] .analyzer-filter-group {
    gap: 0.3rem;
    padding: 0.18rem 0.28rem;
  }
  body[data-page="analyzer"] .analyzer-filter-group .filter-chip {
    font-size: 0.64rem;
    padding: 0.28rem 0.5rem;
  }
}


/* === Dynasty Hub Text Scramble (scoped) === */
#dh-scramble { display: inline-block; }
#dh-scramble .dh-dud { opacity: 0.55; filter: saturate(70%); }
/* ========================================= */

/* === Ownership + Analyzer desktop header layout === */
@media (min-width: 820px) {
  body[data-page="ownership"] #header-container,
  body[data-page="analyzer"] #header-container {
    display: flex;
    justify-content: center;
  }

  body[data-page="ownership"] #header-container .app-header,
  body[data-page="analyzer"] #header-container .app-header {
    flex-direction: column;
    align-items: stretch;
    gap: 1.1rem;
    width: min(100%, 880px);
    margin: 0 auto;
    padding: 1.1rem 1.35rem;
    --header-control-height: 3.4rem;
    border-radius: 24px;
  }

  body[data-page="ownership"] #primary-header-row,
  body[data-page="analyzer"] #primary-header-row {
    width: 100%;
    display: flex;
    justify-content: center;
    align-items: stretch;
    padding: 0;
    margin: 0;
  }

  body[data-page="ownership"] #primary-header-row .nav-buttons-container,
  body[data-page="analyzer"] #primary-header-row .nav-buttons-container {
    width: 100%;
    flex: 0 0 100%;
    display: flex;
    flex-direction: row;
    align-items: stretch;
    justify-content: space-between;
    gap: 0.95rem;
    flex-wrap: nowrap;
    margin: 0 auto;
  }

  body[data-page="ownership"] .nav-button,
  body[data-page="analyzer"] .nav-button {
    flex: 1 1 0;
    min-width: 120px;
    max-width: 164px;
    min-height: 3.4rem;
    padding: 0.95rem 0.8rem 0.82rem;
    border-radius: 20px;
    gap: 0.32rem;
  }

  body[data-page="ownership"] .nav-button i,
  body[data-page="analyzer"] .nav-button i {
    font-size: 1.5rem;
  }

  body[data-page="ownership"] .nav-label,
  body[data-page="analyzer"] .nav-label {
    font-size: 0.75rem;
    letter-spacing: 0.035em;
  }

  body[data-page="ownership"] #primary-header-row .nav-logo,
  body[data-page="analyzer"] #primary-header-row .nav-logo {
    width: 1.5rem;
    height: 1.44rem;
  }

  body[data-page="ownership"] #secondary-header-row,
  body[data-page="analyzer"] #secondary-header-row {
    width: 100%;
    display: grid;
    grid-template-columns: repeat(2, minmax(0, 1fr));
    gap: 0.85rem;
    padding-top: 0.95rem;
    border-top: 1px solid rgba(123, 110, 255, 0.32);
    box-shadow: inset 0 1px 0 rgba(173, 156, 255, 0.12);
    align-items: stretch;
  }

  body[data-page="ownership"] #secondary-header-row .username-area,
  body[data-page="ownership"] #secondary-header-row .custom-select-wrapper,
  body[data-page="analyzer"] #secondary-header-row .username-area,
  body[data-page="analyzer"] #secondary-header-row .custom-select-wrapper {
    max-width: none;
    height: var(--header-control-height);
  }

  body[data-page="ownership"] #usernameInput,
  body[data-page="analyzer"] #usernameInput {
    font-size: 1.05rem;
    padding: 0.6rem 1rem;
    border-radius: 18px;
    font-weight: 400;
  }

  body[data-page="ownership"] #leagueSelect,
  body[data-page="analyzer"] #leagueSelect {
    font-size: 1.05rem;
    padding: 0.6rem 1.8rem 0.6rem 1rem;
    color: #d5d9ff;
    border-radius: 18px;
  }

  body[data-page="ownership"] .custom-select-wrapper::after,
  body[data-page="analyzer"] .custom-select-wrapper::after {
    right: 1.05rem;
    font-size: 0.9rem;
    transform: translateY(-50%) scale(0.95);
  }
}




/* --- HOME-PAGE ONLY HEADER RULES --- */
body[data-page="welcome"] #filters-row,
body[data-page="welcome"] #secondary-header-row .view-switcher {
    display: none !important;
}