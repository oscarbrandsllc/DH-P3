/* 
This file contains the core, shared styles for the Dynasty Hub application.
It includes foundational rules, variables, and styles for components that appear on multiple pages,
such as the header, navigation, modals, and background effects.
*/

/* ⬇︎  VARIABLES, THEME, & FOUNDATION  ⬇︎ */
      :root {
        --font-sans: 'Product Sans', 'Google Sans', 'Quicksand', sans-serif;
    
        /* · · New Color Palette · · */
        --color-bg: #0D0E1B;
        --color-bg-light: #1E1F30;
        --color-panel-bg: rgba(22, 24, 43, 0.1);
        --roster-card-blur: 1px;
        --color-panel-border: rgba(128, 138, 189, 0.2);
        --color-panel-border-glow: rgba(128, 138, 189, 0.4);
    
        --color-text-primary: #EAEBF0;
        --color-text-secondary: #9096C0;
        --color-text-tertiary: #5F6795;
        
        --color-text-mid-test1: #BDC1D8; /* inbetween primary & secondary */
        --color-text-mid-test2:  #787FAB; /* midpoint between secondary and tertiary */
            
        --color-accent-primary: #766DFF;
        --color-accent-primary-glow: rgba(118, 109, 255, 0.5);
        --color-accent-secondary: #42C2FF;
        --color-accent-secondary-glow: rgba(66, 194, 255, 0.5);
        --color-accent-trade-win: #00F5A0;
        --color-accent-trade-lose: #FF47A6;
    
        /* · · Position Colors · · */
        --pos-qb: #FF3A75ca;
        --pos-rb: #00EBC7ca;
        --pos-wr: #58A7FFca;
        --pos-te: #B469FFca;
        --pos-flx: #ba6597ee;
        --pos-sflx: #FF3A75ca;
        --pos-bn: #64748b;
        --pos-tx: #808ea3;
    
        /* · · Other vars · · */
        --panel-border-radius: 12px;
        --card-border-radius: 8px;
        --glow-strength: 0.6; /* FIXED: give it a value so parsing continues */
    
        /* · · Orb 3 (shared) — using lengths so gradient center = orb center · · */
        --orb3-left: 330px;
        --orb3-top: 23rem;
        --orb3-size: 19rem;
      }
    
      html, body {
        height: 100%;
        margin: 0;
      }

      :root {
        --roster-header-height: 0px;
        --roster-header-gap: 12px; /* Adjust this value to change the vertical gap beneath the global header on roster pages */
      }

      body {
        font-family: var(--font-sans);
        background-color: #0b0b12;
        color: var(--color-text-primary);
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        overflow-x: auto;
        position: relative;
      }

      .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border: 0;
      }
      
        button:focus,
        input:focus,
        select:focus,
        textarea:focus,
        a:focus {
          outline: 1px solid rgba(255, 255, 255, 0.0); /* faint light ring */
          outline-offset: 2px;                         /* optional spacing */
        }

      .content-wrapper {
        display: flex;
        flex-direction: column;
        min-height: 100vh;
      }
      main#content {
        flex-grow: 1;
        display: flex;
        flex-direction: column;
      }
    
/* Starfield background */
#starfield {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: -1;
  background: transparent;
  -webkit-mask-image: radial-gradient(ellipse at center, white 20%, black 80%);
  mask-image: radial-gradient(ellipse at center, white 20%, black 80%);
}

@keyframes star-glow {
  0%, 100% { opacity: 0.1; }
  50% { opacity: 0.3; }
}

@keyframes star-move {
  from { transform: translateY(0px); }
  to { transform: translateY(-2000px); }
}

#stars, #stars1, #stars2, #stars3 {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-repeat: repeat;
  background-size: cover;
  animation-iteration-count: infinite;
}

#stars {
  background-image: url('../assets/welcome/stars.png');
  animation-name: star-move;
  animation-duration: 200s;
  animation-timing-function: linear;
}

#stars1 {
  background-image: url('../assets/welcome/stars1.png');
  animation-name: star-move;
  animation-duration: 100s;
  animation-timing-function: linear;
}

#stars2 {
  background-image: url('../assets/welcome/stars2.png');
  animation-name: star-glow;
  animation-duration: 4s;
  animation-timing-function: ease-in-out;
}

#stars3 {
  background-image: url('../assets/welcome/stars3.png');
  animation-name: star-glow;
  animation-duration: 6s;
  animation-timing-function: ease-in-out;
}

#noise-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 0;
  pointer-events: none;
  opacity: 0.08;
  mix-blend-mode: screen;
  background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 500 500'%3e%3cfilter id='n'%3e%3cfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='2' stitchTiles='stitch'/%3e%3c/filter%3e%3crect width='100%25' height='100%25' filter='url(%23n)'/%3e%3c/svg%3e");
}

/* ⬇︎  SCROLLBARS  ⬇︎ */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        ::-webkit-scrollbar-track {
            background: transparent;
        }
        ::-webkit-scrollbar-thumb {
            background: var(--color-text-tertiary);
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: var(--color-text-secondary);
        }

/* ⬇︎  GENERAL UI  ⬇︎ */
        #loading, #welcome-screen { 
            text-align: center; 
            padding: 4rem 2rem; 
            font-size: 1.2rem; 
            color: var(--color-text-secondary); 
            max-width: 600px;
            margin: 0.51rem auto;
        }

        #welcome-screen, #loading {
            background: rgb(47 29 104 / 10%);
            border: 1px solid var(--color-panel-border);
            border-radius: var(--panel-border-radius);
            backdrop-filter: blur(3px);
            -webkit-backdrop-filter: blur(3px);
            box-shadow: 0 0 20px rgba(0,0,0,0.3);
        }

        #welcome-screen h2 {
            font-size: 1.7rem;
            font-weight: 300;
            color: var(--color-text-primary);
            text-shadow: 0 0 9px #5300ff;
            margin-bottom: 0.5rem;
        }

.custom-tooltip {
  position: absolute;
  padding: 0.4rem 0.8rem;
  border-radius: 10px;
  background: linear-gradient(155deg, rgba(118, 109, 255, 0.32), rgba(66, 194, 255, 0.18));
  color: var(--color-text-primary);
  border: 1px solid rgba(118, 109, 255, 0.45);
  box-shadow: 0 12px 28px rgba(0, 0, 0, 0.35), inset 0 1px 0 rgba(255, 255, 255, 0.16);
  font-size: 0.72rem;
  line-height: 1.25;
  letter-spacing: 0.01em;
  backdrop-filter: blur(12px) saturate(130%);
  -webkit-backdrop-filter: blur(12px) saturate(130%);
  pointer-events: none;
  z-index: 1400;
  opacity: 0;
  transform: translateY(-6px);
  transition: opacity 0.22s ease, transform 0.22s ease;
  white-space: nowrap;
}

.custom-tooltip::after {
  content: '';
  position: absolute;
  left: 50%;
  bottom: -6px;
  transform: translateX(-50%);
  width: 10px;
  height: 10px;
  background: inherit;
  border: inherit;
  border-top: none;
  border-left: none;
  border-radius: 2px;
  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.25);
  transform-origin: center;
  transform: translateX(-50%) rotate(45deg);
}

.custom-tooltip.is-visible {
  opacity: 1;
  transform: translateY(0);
}

.custom-tooltip.is-hiding {
  opacity: 0;
  transform: translateY(-6px);
}

/* ⬇︎  UTILITY CLASSES  ⬇︎ */
        .glass-panel {
       background-color: rgba(13, 14, 35, 0.21);
       background-image: linear-gradient(rgba(255,255,255, 0.03), rgba(255,255,255, 0.03));
        -webkit-backdrop-filter: blur(6px) saturate(120%) brightness(120%);
        backdrop-filter: blur(6px) saturate(120%) brightness(120%);
        box-shadow: inset 0 0 0 0px rgba(255,255,255, 0.05), inset 0 0 0 3px rgba(200,200,200, 0.025), 0 10px 26px rgba(0,0,0, var(--outerA, .22));
        
        /* · · Frame · · */
        border: 1px solid rgba(128, 138, 189, 0.2);
        border-radius: 10px;
        box-shadow: rgba(255, 255, 255, 0.05) 0px 0px 0px 0px inset, rgba(200, 200, 200, 0.025) 0px 0px 0px 3px inset, rgba(0, 0, 0, 0.22) 0px 10px 26px 0px;
        }

/* ⬇︎  NEW REDESIGNED HEADER LAYOUT  ⬇︎ */
/* === ROW 1: Logo + Navigation Buttons === */
#primary-header-row {
    display: flex !important;
    align-items: center;
    justify-content: space-between;
    gap: 0.5rem;
    padding: 0.25rem;
    grid-template-columns: none !important;
}


.app-logo {
    width: 2.2rem;
    height: 2.2rem;
    object-fit: contain;
    filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.3));
}

.nav-logo {
  width: 1.15rem; /* match icon size */
  height: 1.1rem;
  object-fit: contain;
  display: block;
  filter: opacity(0.8) drop-shadow(0 1px 1px rgba(0,0,0,0.12));
}

/* Reduce vertical spacing specifically for the Home button logo so it matches other nav buttons */
#homeButton .nav-logo {
  display: inline-block;
  vertical-align: middle;
  margin-top: 0;
  margin-bottom: -1.5px;
}

#homeButton {
  padding-top: 0.15rem;
  padding-bottom: 0.25rem;
}

.nav-buttons-container {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    flex: 1;
    justify-content: space-around;
}

.nav-button {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 0.1rem;
    padding: 0.4rem 0.6rem;
    min-height: 2.25rem;
    background: rgba(13, 14, 35, 0.25);
    backdrop-filter: blur(8px);
    border: 1px solid rgba(128, 138, 189, 0.2);
    border-radius: 8px;
    color: var(--color-text-secondary);
    cursor: pointer;
    transition: all 0.2s ease;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15),
                inset 0 1px 0 rgba(255, 255, 255, 0.05);
    flex: 1;
    max-width: 4.5rem;
}

.nav-button i {
    font-size: 1.1rem;
    line-height: 1;
    filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.2));
}

.nav-label {
    font-size: 0.45rem;
    font-weight: 500;
    line-height: 1;
    margin-top: 0.05rem;
    color: inherit;
    white-space: nowrap;
}

.nav-button:hover {
    color: var(--color-text-primary);
    background: rgba(13, 14, 35, 0.35);
    border-color: rgba(128, 138, 189, 0.35);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.25),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
    transform: translateY(-1px);
}

.nav-button.active {
    color: var(--color-accent-primary);
    background: rgba(118, 109, 255, 0.1);
    border-color: rgba(118, 109, 255, 0.3);
    box-shadow: 0 4px 12px rgba(118, 109, 255, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
}

/* === ROW 2: Username, League Select, Compact Toggle === */
#secondary-header-row {
    display: flex !important;
    align-items: center;
    justify-content: space-between;
    gap: 0.5rem;
    padding: 0.3rem !important;
    border-top: 1px solid var(--color-panel-border);
    grid-template-columns: none !important;
}

#secondary-header-row .username-area {
    width: auto;
    flex: 1 1 0;
}

#secondary-header-row .custom-select-wrapper {
    width: auto;
    flex: 1 1 0;
}

.compact-switcher {
    display: flex;
    align-items: center;
    background: rgba(13, 14, 35, 0.25);
    backdrop-filter: blur(8px);
    border: 1px solid rgba(128, 138, 189, 0.2);
    border-radius: 6px;
    padding: 0.1rem;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15),
                inset 0 1px 0 rgba(255, 255, 255, 0.05);
}

.compact-switcher button {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.05rem;
    padding: 0.25rem 0.4rem !important;
    min-height: 1.8rem;
    border: none;
    background: transparent;
    color: var(--color-text-secondary);
    border-radius: 4px;
    cursor: pointer;
    transition: all 0.15s ease;
    font-size: 0.7rem !important;
}

.compact-switcher button i {
    font-size: 0.85rem;
    line-height: 1;
}

.switcher-label {
    font-size: 0.4rem;
    font-weight: 400;
    line-height: 1;
    white-space: nowrap;
    color: inherit;
}

.compact-switcher button:hover {
    color: var(--color-text-primary);
    background: rgba(255, 255, 255, 0.05);
}

.compact-switcher button.active {
    color: var(--color-accent-secondary);
    background: rgba(66, 194, 255, 0.1);
    box-shadow: 0 1px 3px rgba(66, 194, 255, 0.2);
}

/* === ROW 3: Start/Sit Button === */
.start-sit-button-slot {
    width: auto;
    height: var(--header-control-height);
    display: flex;
    align-items: center;
    justify-content: center;
    flex: 1 1 0;
    margin: 0px 3px;
}

.start-sit-button-container {
    height: var(--header-control-height);
    display: flex;
    align-items: center;
    justify-content: center;
    flex: 1 1 0 !important;
    min-width: fit-content;
}

.start-sit-button {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 0.1rem;
    padding: 0.22rem 0.535rem !important;
    flex: 1 1 0 !important;   /* take remaining row width */
    width: 100%;   /* fill its flex cell */
    min-width: 3.5rem;  /* avoid min-content clamp */
    background: linear-gradient(to bottom, rgba(0,0,0,0.01), rgba(0,0,0,0.1))!important;
    border: 1px solid rgba(128, 138, 189, 0.2) !important;
    border-radius: 8px;
    color: var(--color-text-secondary);
    cursor: pointer;
    transition: all 0.2s ease;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15),inset 0 1px 1px rgba(255, 255, 255, 0.05) !important;
}
.start-sit-button.active {
    color: var(--color-accent-primary);
    background: rgba(118, 109, 255, 0.1) !important;
    border-color: rgba(118, 109, 255, 0.3) !important;
    box-shadow: 0 4px 12px rgba(118, 109, 255, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
}

.start-sit-button .analyzer-icon {
    font-size: 1rem;
    line-height: 1;
    filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.2));
}

.start-sit-button .analyzer-label {
    font-size: 0.45rem;
    font-weight: 500;
    line-height: 1;
    margin-top: 0.05rem;
    color: inherit;
}

.start-sit-button:hover {
    color: var(--color-text-secondary);
    background: rgba(13, 14, 35, 0.35);
    border-color: rgba(128, 138, 189, 0.35);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.25), inset 0 1px 0 rgba(255, 255, 255, 0.1);
    transform: translateY(-1px);
}

.start-sit-button:focus-visible {
    outline: 2px solid rgba(118, 109, 255, 0.6);
    outline-offset: 2px;
}

/* === Mobile Responsive Adjustments === */
@media (max-width: 520px) {
    .nav-button {
        padding: 0.25rem 0.3rem;
        min-height: 1.9rem;
        max-width: 4rem;
        gap: 0.05rem;
    }

    .nav-button i {
        font-size: 0.95rem;
    }

    .nav-label {
        font-size: 0.4rem;
    }

    .app-logo {
        width: 1.8rem;
        height: 1.8rem;
    }

    .nav-buttons-container {
        gap: 0.4rem;
    }

    #primary-header-row {
        gap: 0.4rem;
        padding: 0.2rem;
    }
}

/* === Desktop Responsive Adjustments === */
@media (min-width: 768px) {
    .nav-button {
        padding: 0.4rem 0.7rem;
        min-height: 2.5rem;
        max-height: 2.5rem;
        gap: 0.15rem;
    }

    .nav-button i {
        font-size: 1.2rem;
    }

    .nav-label {
        font-size: 0.5rem;
    }

    .app-logo {
        width: 2.4rem;
        height: 2.4rem;
    }

    .nav-buttons-container {
        gap: 0.8rem;
    }

    #primary-header-row {
        gap: 1rem;
        padding: 0.35rem;
    }

    #secondary-header-row .username-area,
    #secondary-header-row .custom-select-wrapper {
        max-width: 180px;
    }
}

@media (min-width: 700px) {
    .nav-buttons-container {
        gap: 1rem;
    }

    .nav-button {
        max-width: 6rem;
    }
}

@media (min-width: 869px) {
  body[data-page="rosters"] #header-container {
    display: flex;
    justify-content: center;
    padding: 0.5rem 0 0.9rem;
  }

  body[data-page="rosters"] #header-container .app-header {
    --roster-desktop-gap: 0.75rem;
    --roster-desktop-field-width: 200px;
    --roster-desktop-max: min(calc(100vw - 3rem), 1060px);
    display: grid;
    grid-template-columns: var(--roster-desktop-field-width) repeat(5, auto);
    grid-template-rows: auto auto;
    column-gap: var(--roster-desktop-gap);
    row-gap: 0.85rem;
    align-items: center;
    justify-content: center;
    padding: 0.9rem 1.15rem 1rem;
    margin: 0 auto;
    width: fit-content;
    max-width: var(--roster-desktop-max);
  }

  body[data-page="rosters"] #primary-header-row,
  body[data-page="rosters"] #contextual-controls,
  body[data-page="rosters"] #secondary-header-row,
  body[data-page="rosters"] #filters-row,
  body[data-page="rosters"] .filters-container {
    display: contents !important;
  }

  body[data-page="rosters"] #contextual-controls .header-row {
    border-top: 0;
    padding: 0;
  }

  body[data-page="rosters"] .username-area {
    grid-column: 1;
    grid-row: 1;
    width: var(--roster-desktop-field-width);
    max-width: var(--roster-desktop-field-width);
  }

  body[data-page="rosters"] .nav-buttons-container {
    grid-column: 2 / span 5;
    grid-row: 1;
    display: flex;
    align-items: center;
    justify-content: flex-start;
    min-width: 0;
  }

  body[data-page="rosters"] .nav-buttons-container .nav-button {
    flex: 0 0 auto;
    width: 77px;
  }

  body[data-page="rosters"] .custom-select-wrapper {
    grid-column: 1;
    grid-row: 2;
    width: var(--roster-desktop-field-width);
    max-width: var(--roster-desktop-field-width);
  }

  body[data-page="rosters"] .view-switcher {
    grid-column: 2;
    grid-row: 2;
    justify-self: flex-start;
  }

  body[data-page="rosters"] .start-sit-button-slot {
    grid-column: 3;
    grid-row: 2;
    justify-self: flex-start;
  }

  body[data-page="rosters"] #positional-filters {
    grid-column: 4;
    grid-row: 2;
    justify-content: flex-start;
    margin-left: 3px;
  }

  body[data-page="rosters"] #clearFiltersButton {
    grid-column: 5;
    grid-row: 2;
    margin: 0;
  }

  body[data-page="rosters"] .compare-controls {
    grid-column: 6;
    grid-row: 2;
    display: flex;
    align-items: center;
    justify-self: flex-start;
    position: static;
  }

  body[data-page="rosters"] .compare-controls .compare-search-toggle {
    margin: 0;
  }

  body[data-page="rosters"] #header-container {
    position: fixed;
    top: 0;
    top: 7px;
    left: 0;
    right: 0;
    width: 100vw;
  }
}

@media (min-width: 869px) {
  body[data-page="rosters"] #homeButton {
    margin-left: 20px;
  }

n {
    gap: 0.09rem;
  }

  .compact-switcher button {
    padding: 0.3rem 0.4rem 0.2rem !important;
  }

  .compact-switcher button i {
    font-size: 0.75rem;
  }
.switcher-label {
    font-size: 0.45rem;
  }
  .start-sit-button {
    padding: 0.3rem 0.535rem 0.2rem !important;
    width: 58px;
    margin-left: 3px;
    flex: 0 0 58px !important;
    min-width: 58px !important;
  }

  .start-sit-button .analyzer-icon {
    font-size: 0.951rem;
  }

  #primary-header-row .primary-switcher,
  #secondary-header-row .secondary-switcher {
    min-width: 115px;
    margin-block: 0.075rem;
    margin-left: 20px;
  }
}
        .app-header {
            padding: 0.25rem;
            display: flex;
            flex-direction: column;
            gap: 0.25rem;
            --header-icon-size: 2.25rem;
            --header-control-height: 2.2rem;
            --header-field-max-width: 160px;
            --header-switcher-width: 12.25rem;
        }

        .header-row {
            display: flex;
            flex-wrap: nowrap; /* Prevent wrapping */
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            width: 100%;
            padding-bottom: 1px; /* space for scrollbar */
        }

        .app-header > .header-row:first-of-type,
        #contextual-controls .header-row:first-child {
            display: grid;
            grid-template-columns: var(--header-icon-size) minmax(120px, var(--header-field-max-width)) minmax(var(--header-switcher-width), 1fr);
            align-items: center;
            gap: 0.5rem;
            padding-left: 0.25rem;
            padding-right: 0.25rem;
        }

        #contextual-controls .header-row {
            border-top: 1px solid var(--color-panel-border);
            padding-top: 0.3rem;
        }
        #contextual-controls .header-row:first-child {
            gap: 0.5rem;
        }
        #contextual-controls .header-row:has(#positional-filters) {
            gap: 0.25rem;
            padding-left: 0.25rem;
            padding-right: 0.25rem;
        }

        #primary-header-row .menu-container,
        #secondary-header-row .analyzer-button-container,
        .analyzer-button-slot,
        .research-button-slot {
            width: max(var(--header-icon-size), 2.6rem);
            height: var(--header-control-height);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .header-quick-links {
            display: none;
            align-items: center;
            gap: 0.35rem;
        }

        .header-quick-links .analyzer-button-container,
        .header-quick-links .research-button-container {
            width: var(--header-icon-size);
            height: var(--header-control-height);
        }

        #primary-header-row .menu-container {
            position: relative;
        }

        #primary-header-row .menu-button,
        #secondary-header-row .analyzer-button {
            width: 100%;
            height: 100%;
            border-radius: 8px;
            box-sizing: border-box;
        }

        #primary-header-row .menu-button svg {
            width: 1.25rem;
            height: 1.25rem;
        }

        #secondary-header-row .analyzer-button,
        .header-quick-links .analyzer-button,
        .header-quick-links .research-button {
            border: none;
            background: transparent;
            color: var(--color-text-secondary);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 0;
            gap: 0.1rem;
        }

        #secondary-header-row .analyzer-button .analyzer-icon,
        .header-quick-links .analyzer-button .analyzer-icon,
        .header-quick-links .research-button .analyzer-icon {
            display: block;
            margin: 0;
            line-height: 1;
            font-size: 1.22rem;
        }

        #secondary-header-row .analyzer-button .analyzer-label,
        .header-quick-links .analyzer-button .analyzer-label,
        .header-quick-links .research-button .analyzer-label {
            display: block;
            margin: -2px 0 0 0;
            padding: 0;
            font-size: 0.50rem;
            font-weight: 400;
            line-height: 1;
            color: inherit;
            white-space: nowrap;
        }
        #secondary-header-row .analyzer-button:hover .analyzer-icon,
        #secondary-header-row .analyzer-button:focus-visible .analyzer-icon,
        .header-quick-links .analyzer-button:hover .analyzer-icon,
        .header-quick-links .analyzer-button:focus-visible .analyzer-icon,
        .header-quick-links .research-button:hover .analyzer-icon,
        .header-quick-links .research-button:focus-visible .analyzer-icon {
            color: var(--color-text-primary);
        }

        #primary-header-row .username-area,
        #secondary-header-row .custom-select-wrapper {
            justify-self: center;
        }

        #primary-header-row .primary-switcher,
        #secondary-header-row .secondary-switcher {
            justify-self: end;
            min-width: 100px;
            max-width: var(--header-switcher-width);
            height: var(--header-control-height);
            display: flex;
            align-items: stretch;
            margin-block: 0.075rem;
        }

        #primary-header-row .primary-switcher button,
        #secondary-header-row .secondary-switcher button {
            flex: 1 1 0;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        #primary-header-row .menu-container,
        #primary-header-row .username-area,
        #secondary-header-row .analyzer-button-container,
        #secondary-header-row .custom-select-wrapper,
        .analyzer-button-slot,
        .research-button-slot {
            margin-block: 0.075rem;
        }

        #contextual-controls {
            display: flex;
            flex-direction: column;
        }
        #contextual-controls.hidden {
            display: none;
        }

    @media (min-width: 869px) {
            .header-quick-links {
                display: flex;
            }

            #primary-header-row {
                grid-template-columns: var(--header-icon-size) max-content minmax(120px, var(--header-field-max-width)) minmax(var(--header-switcher-width), 1fr);
            }

            .header-quick-links .analyzer-button,
            .header-quick-links .research-button {
                gap: 0.2rem;
            }

            #header-quick-links #analyzeLeagueButton,
            #header-quick-links #analyzeLeagueButton.glow-on-select,
            #header-quick-links #analyzeLeagueButton.active {
                background: transparent !important;
                border: none !important;
                box-shadow: none !important;
                color: var(--color-text-secondary);
            }

            #header-quick-links #analyzeLeagueButton .analyzer-icon {
            margin-top: 0 !important;
            font-size: 1.3rem !important;
            }



            #header-quick-links #analyzeLeagueButton .analyzer-label {
                margin-top: -2px !important;
            }

            #header-quick-links #analyzeLeagueButton:hover .analyzer-icon,
            #header-quick-links #analyzeLeagueButton:focus-visible .analyzer-icon {
                color: var(--color-text-primary);
            }
        }

  /* · · Ensure hidden truly hides views regardless of ID display rules · · */
        #playerListView.hidden, #rosterView.hidden { display: none !important; }


                /* · · Row 1 · · */
                .username-area {
                    flex-grow: 1;
                    min-width: 100px; /* prevent it from getting too small */
                    padding: 0;
                    height: var(--header-control-height);
                    display: flex;
                    align-items: stretch;
                }

                /* · · #usernameInput block · · */
        #usernameInput {
          background: linear-gradient(to bottom, rgba(0,0,0,0.01), rgba(0,0,0,0.1));
          border: 1px solid var(--color-panel-border);
          border-radius: 8px;
          -webkit-backdrop-filter: blur(4px) saturate(110%);
          backdrop-filter: blur(4px) saturate(110%);
          box-shadow: inset 0 1px 1px rgba(255,255,255,0.05);
          color: #c4c8eaba;
          padding: 0.23rem 0.5rem;
          font-size: 0.7rem;
          font-weight: 300;
          width: 100%;
          height: 100%;
          transition: all 0.2s ease;
        }


        #usernameInput::placeholder {
                    color: #5F6795aa !important;
        }


          /* · · Prevent browser autofill from turning the username bar white (Safari/Chrome) · · */
        #usernameInput:-webkit-autofill,
        #usernameInput:-webkit-autofill:hover,
        #usernameInput:-webkit-autofill:focus {
          -webkit-text-fill-color: #c4c8ea !important;
          caret-color: #c4c8ea !important;  /* Overwrite the default yellow/white fill with a transparent inset */
          -webkit-box-shadow: 0 0 0px 1000px rgba(13,14,35,0) inset !important;
          box-shadow: 0 0 0px 1000px rgba(13,14,35,0) inset !important;
          background-color: transparent !important;
          border: 1px solid var(--color-panel-border) !important;
          background-clip: padding-box !important;
          transition: background-color 99999s ease-in-out 0s !important;
        }
        #usernameInput:focus {
            outline: none;
            border-color: var(--color-accent-primary);
            box-shadow: 0 0 var(--glow-strength) var(--color-accent-primary-glow);
        }

        /* · · Row 2 · · */
        .custom-select-wrapper {
            position: relative;
            flex-grow: 1;
            min-width: 0;
            height: var(--header-control-height);
            display: flex;
            align-items: stretch;
            overflow: hidden;
        }
        #leagueSelect {
            appearance: none;  /* EDITED: Increased transparency */
            background: linear-gradient(to bottom, rgba(0,0,0,0.01), rgba(0,0,0,0.1));
            border: 1px solid var(--color-panel-border);
            border-radius: 8px;
            -webkit-backdrop-filter: blur(4px) saturate(110%);
            backdrop-filter: blur(4px) saturate(110%);
            box-shadow: inset 0 1px 1px rgba(255,255,255,0.05);
            padding: 0.32rem 1.25rem 0.32rem 0.5rem;
            font-size: 14px;
            color: #c4c8ea7a;
            font-weight: 300;
            width: 100%;
            height: 100%;
            min-width: 0;
            cursor: pointer;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        #leagueSelect:focus,
        #leagueSelect:focus-visible,
        .custom-select-wrapper:focus-within #leagueSelect {
          outline: none !important;
          box-shadow: inset 0 1px 1px rgba(255,255,255,0.05) !important; /* preserve glass inset */
          border-color: var(--color-panel-border) !important;
        }
        .custom-select-wrapper::after {
            content: '▼';
            position: absolute;
            top: 50%;
            right: 0.5rem;
            transform: translateY(-50%) scale(0.6);
            color: var(--color-text-secondary);
            pointer-events: none;
        }

        /* · · Row 3 · · */
        #positional-filters {
            /* This will no longer grow, allowing the parent to center it */
            justify-content: center;
        }
        
/* ⬇︎  GM LOG MODAL  ⬇︎ */
    #game-logs-modal, #player-comparison-modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 100;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: opacity 0.2s ease-in-out;
    }
    
    #game-logs-modal.hidden {
      display: none;
    }
    
    .modal-overlay {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      backdrop-filter: blur(4px);
      -webkit-backdrop-filter: blur(4px);
    }
    
    .modal-content {
      position: relative;
      z-index: 101;
      padding: 0.65rem 1.1rem 0.25rem 1.1rem;
      border-radius: var(--panel-border-radius);
      max-width: 90%;
      width: 600px;
      max-height: 80vh;
      transform: scale(0.95);
      opacity: 0;
      transition: transform 0.2s ease-in-out, opacity 0.2s ease-in-out;
    }
    
    #game-logs-modal:not(.hidden) .modal-content, #player-comparison-modal:not(.hidden) .modal-content {
        transform: scale(1);
        opacity: 1;
    }
    
    .modal-close-btn {
      position: absolute;
      top: 0rem;
      right: 0.45rem;
      background: none;
      border: none;
      font-size: 2.2rem;
      line-height: 1;
      color: var(--color-text-secondary);
      cursor: pointer;
      transition: color 0.2s ease;
    }
    
    .modal-close-btn:hover {
      color: var(--color-text-primary);
    }

    .modal-header-left-container {
        position: absolute;
        top: 0.70rem;
        left: 0.75rem;
        display: flex;
        align-items: center;
        gap: 0.5rem;
    }
/* · · Team Logo Chips · · */

    .modal-team-logo-chip {
        padding: 2px 7px;
        background: rgba(255, 255, 255, 0.005);
        backdrop-filter: blur(1px) saturate(180%);
        border: 1px solid rgba(250, 250, 250, 0.12);
        border-radius: 1rem;
        box-shadow: 0 8px 32px rgba(31, 38, 135, 0.2), inset 0 4px 20px rgba(255, 255, 255, 0.05);
        display: flex;
        align-items: center;
        justify-content: center;
    }

  .modal-team-logo-chip[data-team="ARI"] { box-shadow: inset 0 0 10px rgba(151, 35, 63, 0.18); }
    .modal-team-logo-chip[data-team="ATL"] { box-shadow: inset 0 0 10px rgba(167, 25, 48, 0.16); }
    .modal-team-logo-chip[data-team="BAL"] { box-shadow: inset 0 0 10px rgba(158, 43, 246, 0.2); }
    .modal-team-logo-chip[data-team="BUF"] { box-shadow: inset 0 0 10px rgba(198, 12, 48, 0.14); }
    .modal-team-logo-chip[data-team="CAR"] { box-shadow: inset 0 0 10px rgba(0, 133, 202, 0.22); }
    .modal-team-logo-chip[data-team="CHI"] { box-shadow: inset 0 0 10px rgba(120, 90, 240, 0.15); }
    .modal-team-logo-chip[data-team="CIN"] { box-shadow: inset 0 0 10px rgba(251, 79, 20, 0.13); }
    .modal-team-logo-chip[data-team="CLE"] { box-shadow: inset 0 0 10px rgba(49, 29, 0, 0.22); }
    .modal-team-logo-chip[data-team="DAL"] { box-shadow: inset 0 0 10px rgba(134, 147, 151, 0.17); }
    .modal-team-logo-chip[data-team="DEN"] { box-shadow: inset 0 0 10px rgba(251, 79, 20, 0.12); }
    .modal-team-logo-chip[data-team="DET"] { box-shadow: inset 0 0 10px rgba(0, 183, 235, 0.12); }
    .modal-team-logo-chip[data-team="GB"] { box-shadow: inset 0 0 10px rgba(30, 205, 120, 0.12); }
    .modal-team-logo-chip[data-team="HOU"] { box-shadow: inset 0 0 10px rgba(167, 25, 48, 0.15); }
    .modal-team-logo-chip[data-team="IND"] { box-shadow: inset 0 0 10px rgba(0, 44, 95, 0.22); }
    .modal-team-logo-chip[data-team="JAX"] { box-shadow: inset 0 0 10px rgba(0, 103, 120, 0.18); }
    .modal-team-logo-chip[data-team="KC"] { box-shadow: inset 0 0 10px rgba(227, 24, 55, 0.13); }
    .modal-team-logo-chip[data-team="LAC"] { box-shadow: inset 0 0 10px rgba(0, 128, 198, 0.14); }
    .modal-team-logo-chip[data-team="LAR"] { box-shadow: inset 0 0 10px rgba(0, 91, 200, 0.19); }
    .modal-team-logo-chip[data-team="LV"]  { box-shadow: inset 0 0 10px rgba(165, 172, 175, 0.14); }
    .modal-team-logo-chip[data-team="MIA"] { box-shadow: inset 0 0 10px rgba(0, 142, 151, 0.17); }
    .modal-team-logo-chip[data-team="MIN"] { box-shadow: inset 0 0 10px rgba(115, 0, 255, 0.19); }
    .modal-team-logo-chip[data-team="NE"]  { box-shadow: inset 0 0 10px rgba(255, 56, 95, 0.14); }
    .modal-team-logo-chip[data-team="NO"]  { box-shadow: inset 0 0 10px rgba(160, 148, 101, 0.19); }
    .modal-team-logo-chip[data-team="NYG"] { box-shadow: inset 0 0 10px rgba(55, 56, 200, 0.16); }
    .modal-team-logo-chip[data-team="NYJ"] { box-shadow: inset 0 0 10px rgba(64, 160, 120, 0.16); }
    .modal-team-logo-chip[data-team="PHI"] { box-shadow: inset 0 0 10px rgba(43, 140, 78, 0.13); }
    .modal-team-logo-chip[data-team="PIT"] { box-shadow: inset 0 0 10px rgba(255, 182, 18, 0.1); }
    .modal-team-logo-chip[data-team="SEA"] { box-shadow: inset 0 0 10px rgba(47, 200, 20, 0.11); }
    .modal-team-logo-chip[data-team="SF"]  { box-shadow: inset 0 0 10px rgba(179, 153, 93, 0.14); }
    .modal-team-logo-chip[data-team="TB"]  { box-shadow: inset 0 0 10px rgba(247, 122, 97, 0.14); }
    .modal-team-logo-chip[data-team="TEN"] { box-shadow: inset 0 0 10px rgba(75, 146, 219, 0.22); }
    .modal-team-logo-chip[data-team="WAS"] { box-shadow: inset 0 0 10px rgba(180, 36, 36, 0.16); }

    .modal-team-logo-chip span {
        font-size: 0.8rem;
        font-weight: 700;
        color: var(--color-text-secondary);
        padding: 0 4px;
    }
    
      .modal-team-logo-chip::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(255, 255, 255, 0.01);
        border-radius: 1rem;
        backdrop-filter: blur(1px);
        box-shadow: inset 13px 8px 0px -10px rgba(255, 255, 255, .15),
        inset 0px 8px 0px -5px rgba(255, 255, 255, .1);
        opacity: 0.4;
        z-index: -1;
        filter: blur(1px) drop-shadow(10px 4px 6px black) brightness(115%);
        pointer-events: none;    
     }

    /* · · Pos Tags · · */
  .modal-pos-tag {
    position: relative;
    line-height: 0.9rem;
    font-size: 0.9rem;
    padding: 4px 8px;
    background: rgba(255, 255, 255, 0.005);
    backdrop-filter: blur(1px) saturate(180%);
    border: 1px solid rgba(250, 250, 250, 0.12);
    border-radius: 1rem;
    box-shadow: 0 8px 32px rgba(31, 38, 135, 0.2), inset 0 4px 20px rgba(255, 255, 255, 0.05);
    }
    
     .modal-pos-tag::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(255, 255, 255, 0.01);
        border-radius: 4px;
        backdrop-filter: blur(1px);
        box-shadow: inset 11px 8px 0px -10px rgba(255, 255, 255, .1),
        inset 0px 8px 0px -5px rgba(255, 255, 255, .1);
        opacity: 0.34;
        z-index: -1;
        filter: blur(1px) drop-shadow(10px 4px 6px black) brightness(115%);
        pointer-events: none;
     }
     
    .modal-pos-tag.QB { 
        color: #FF3A75c0; /*  QB color */
        box-shadow: inset 0 0 10px #FF3A7513;   /* QB border */

    }
    .modal-pos-tag.RB {
        color: #00EBC7c0; /*  RB color */
        box-shadow: inset 0 0 6px #00EBC715;   /* RB border */
    }
    .modal-pos-tag.WR { 
        color: #58A7FFca; /*  WR color */
        box-shadow: inset 0 0 10px #58A7FF25;   /* WR border */
    }
    .modal-pos-tag.TE { 
        color: #B469FFca; /*  TE color */
        box-shadow: inset 0 0 10px #B469FF26;   /* TE border */
    }
    
    /* · · Modal Header · · */    
    #modal-header h3 {
      font-size: 1.1rem;
      font-weight: 400;
      color: var(--color-text-primary);
      margin-bottom: 0.2rem;
      text-align: center;
      margin-left: 15px;
    }
    #modal-header h3 {
  display: inline-block;
  max-width: 15ch;          /* ~16 characters wide */
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;  /* shows … at the end */
}

    
    #modal-body {
      color: #8086b0;
      overflow-x: auto;
      overflow-y: auto;
      border-radius: 8px;
      max-height: 60vh;
      scrollbar-width: none;
    }

    #modal-body:hover {
      scrollbar-width: thin;
    }

    #modal-body::-webkit-scrollbar {
      width: 0;
      height: 0;
    }

    #modal-body:hover::-webkit-scrollbar {
      width: 8px;
      height: 8px;
    }
    
    /* · · Table Styling · · */
    .modal-body{
        position: relative;
        background: rgba(5, 0, 30, 0.081);
        backdrop-filter: blur(1px) saturate(140%);
        border: 1px solid rgba(250, 250, 250, 0.1);
        border-radius: 9px;
        box-shadow: 0 8px 32px rgba(31, 38, 105, 0.15), inset 0 6px 20px rgba(255, 255, 255, 0.013);
    }

    .modal-body::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(255, 255, 255, 0.05);
        border-radius: 9px;
        backdrop-filter: blur(1px);
        box-shadow: inset 10px 12px 0px -8px rgba(255, 255, 255, .05),
        inset 0px 8px 0px -6px rgba(255, 255, 255, .051);
        opacity: 0.1;
        z-index: -1;
        filter: blur(1px) drop-shadow(10px 4px 10px black) brightness(100%);
        pointer-events: none;

        }        

    
    
    #modal-body table {
      width: 100%;
      border-collapse: collapse;
      font-size: 0.7rem;
      margin-bottom:2px;
    }

    #game-logs-modal .game-logs-table-container {
      display: flex;
      flex-direction: column;
      gap: 0;
    }

    #game-logs-modal .game-logs-hscroll {
      width: 100%;
      overflow-x: auto;
      overflow-y: hidden;
      -webkit-overflow-scrolling: touch;
    }
    #game-logs-modal .game-logs-hscroll-content { display: inline-block; vertical-align: top; }

    #game-logs-modal .game-logs-table-header,
    #game-logs-modal .game-logs-table-footer {
      overflow: visible;
      margin: 0;
      padding: 0;
    }

    #game-logs-modal .game-logs-table-body {
      max-height: 200px;
      overflow-y: auto;
      overflow-x: hidden; /* horizontal handled by parent hscroll */
      /* Narrow, subtle scrollbars (match stats page) */
      scrollbar-width: thin;
      scrollbar-color: rgba(255,255,255,0.06) transparent;
    }

    #game-logs-modal .game-logs-table {
      width: 100%;
      border-collapse: collapse;
      font-size: 0.7rem;
      table-layout: fixed;
      will-change: transform;
      transform: translateZ(0);
    }
    /* Reduce any gap above the horizontal scrollbar and ensure footer isn't clipped */
    #game-logs-modal .game-logs-hscroll { padding-bottom: 0; }
    #game-logs-modal .game-logs-table-footer { padding-bottom: 2px; margin-bottom: 0; }

    #game-logs-modal .game-logs-table thead,
    #game-logs-modal .game-logs-table tfoot {
      display: table;
      width: 100%;
      table-layout: fixed;
    }

    #game-logs-modal .game-logs-table-body::-webkit-scrollbar {
      width: 8px;
      height: 8px;
      background: transparent;
    }

    #game-logs-modal .game-logs-table-body::-webkit-scrollbar-thumb {
      background-color: rgba(255,255,255,0.06);
      border-radius: 8px;
      border: 2px solid transparent;
      background-clip: padding-box;
    }

    #game-logs-modal .game-logs-table-body::-webkit-scrollbar-thumb:hover {
      background-color: rgba(255,255,255,0.12);
    }

    #game-logs-modal .game-logs-table-body::-webkit-scrollbar-track {
      background: transparent;
    }

    #game-logs-modal .game-logs-table-body::-webkit-scrollbar-corner {
      background: transparent;
    }

    
    #modal-body th,
    #modal-body td {
      padding: 0.2rem 0.25rem;
      text-align: center;
      /* border-bottom is removed from here to be more specific */
    }

    #game-logs-modal thead th.gamelog-header-passing,
    #game-logs-modal tfoot th.gamelog-header-passing {
      color: #FFB2D8;
    }

    #game-logs-modal thead th.gamelog-header-rushing,
    #game-logs-modal tfoot th.gamelog-header-rushing {
      color: #9cf7d4;
    }

    #game-logs-modal thead th.gamelog-header-receiving,
    #game-logs-modal tfoot th.gamelog-header-receiving {
      color: #A0C2F7;
    }

    #game-logs-modal thead th.gamelog-header-all,
    #game-logs-modal tfoot th.gamelog-header-all {
      color:#ADA2FF;
    }
    
    #modal-body thead th {
      border-bottom: 1px solid var(--color-panel-border);
    }

    #modal-body th {
      font-weight: 600;
      font-size: 0.6rem;
      color: #bbc0e8;
      white-space:nowrap;
    }

    #modal-body tfoot tr {
      border-top: 1px solid rgb(128 138 189 / 18%);
      white-space:nowrap;
      font-size: 0.7rem;
    }

    #modal-body tfoot th {
        color: var(--color-accent-primary);
        white-space:nowrap;
        padding: 0.25rem 0rem 0.15rem 0.02rem;    }
    
    #modal-body .no-logs {
        text-align: center;
        padding: 2rem;
        font-style: italic;
    }
    
    #modal-header {
      text-align: center;
    }
    
    #modal-player-name {
      text-align: center;
      margin-bottom: 0.12rem;
    }

    #modal-player-vitals {
      display: flex;
      justify-content: center;
    }

    .player-vitals {
      display: flex;
      align-items: flex-end;
      justify-content: center;
      gap: 1.9rem;
      white-space: nowrap;   
       }


    .player-vitals__item {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 0.1rem;
    }

    .player-vitals__label {
      font-size: 0.45rem;
      letter-spacing: 0.07em;
      color: var(--color-text-tertiary);
      text-transform: uppercase;
      line-height: 1;
    }

    .player-vitals__value {
      font-size: 0.75rem;
      font-weight: 400;
      color: #BDC1D8df;
      line-height: 1;
    }

    .player-vitals--modal {
      margin: 0.2rem 0 0.58rem;
    border: 1px solid #ffffff10;
    padding: 4px 7px;
    border-radius: 8px;
    }
    
    
    .player-vitals--modal {    
    position: relative;
    background: rgba(0, 0, 0, 0.02);
    backdrop-filter: blur(1px) saturate(180%);
    border: 1px solid rgba(250, 250, 250, 0.1);
    box-shadow: 0 8px 32px rgba(31, 38, 105, 0.1), inset 0 6px 20px rgba(255, 255, 255, 0.013);
    }
    .player-vitals--modal::after {    
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(255, 255, 255, 0.01);
        border-radius: 8px;
        backdrop-filter: blur(1px);
        box-shadow: inset 10px 12px 0px -8px rgba(255, 255, 255, .03),
        inset 0px 8px 0px -6px rgba(255, 255, 255, .031);
        opacity: 0.4;
        z-index: -1;
        filter: blur(1px) drop-shadow(10px 4px 6px black) brightness(100%);
        pointer-events: none;
    }
    
    
    

    .player-vitals--compare {
      margin: 0.15rem auto 0.25rem;
      border-radius: 8px;
      border: 1px solid #fff2;
      padding: 4px 4px;
      width: 100%;
      display: flex;
      justify-content: center;
      flex-wrap: nowrap;
      column-gap: 0.5rem;
      row-gap: 0.25rem;
      white-space: nowrap;
      margin-bottom:2px;
    }
    .player-vitals--compare {
    position: relative;
    background: rgba(0, 0, 0, 0.02);
    backdrop-filter: blur(1px) saturate(180%);
    border: 1px solid rgba(250, 250, 250, 0.1);
    box-shadow: 0 8px 32px rgba(31, 38, 105, 0.1), inset 0 6px 20px rgba(255, 255, 255, 0.013);
    }
    .player-vitals--compare::after {    
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(255, 255, 255, 0.01);
        border-radius: 8px;
        backdrop-filter: blur(1px);
        box-shadow: inset 10px 12px 0px -8px rgba(255, 255, 255, .07),
        inset 0px 8px 0px -6px rgba(255, 255, 255, .031);
        opacity: 0.4;
        z-index: -1;
        filter: blur(1px) drop-shadow(10px 4px 6px black) brightness(100%);
        pointer-events: none;
    }


    .player-vitals--compare .player-vitals__label {
      font-size: 0.35rem;
      letter-spacing: 0.16em;
    }

    .player-vitals--compare .player-vitals__item {
      flex: 0 1 auto;
    }

    .player-vitals--compare .player-vitals__value {
      font-size: 0.63rem;
    }
    
    #modal-summary-row {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 0.5rem;
      margin-bottom: 0.6rem;
    }

    #modal-summary-chips {
      display: flex;
      justify-content: center;
      gap: 1rem;
      flex-wrap: nowrap;
    }
    
    /* · · Summary Chips · · */
    .summary-chip {    
        position: relative;
        background: rgba(0, 0, 0, 0.02);
        backdrop-filter: blur(1px) saturate(180%);
        border: 1px solid rgba(250, 250, 250, 0.1);
        border-radius: 13px;
        padding: 1.25rem;
        box-shadow: 0 8px 32px rgba(31, 38, 105, 0.1), inset 0 6px 20px rgba(255, 255, 255, 0.013);
    }
    /* AFTER */
    .summary-chip::after {    
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(255, 255, 255, 0.01);
        border-radius: 13px;
        backdrop-filter: blur(1px);
        box-shadow: inset 10px 12px 0px -8px rgba(255, 255, 255, .05),
        inset 0px 8px 0px -6px rgba(255, 255, 255, .051);
        opacity: 0.4;
        z-index: -1;
        filter: blur(1px) drop-shadow(10px 4px 6px black) brightness(100%);
        pointer-events: none;
    }

     .summary-chip {
      padding: 0.27rem 0.6rem;
      text-align: center;
      min-width: auto;
      white-space: nowrap;
    }
        
    .summary-chip h4 {
      font-size: 0.7rem;
      font-weight: 700;
      color: var(--color-text-secondary);
      margin-bottom: 0.1rem;
      text-transform: uppercase;
      border-bottom: 1px solid var(--color-panel-border);
      padding-bottom: 0.1rem;
    }
    
    .chip-values {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 0.25rem;
        font-size: 0.85rem;
        color: var(--color-text-primary);
        font-weight: 400;
    }
    
    .chip-separator {
        color: var(--color-text-tertiary);
        font-size: 0.8rem;
        font-weight: 400;
    }

/* · · GameLogs Summary Chips · · */
#game-logs-modal .gamelogs-summary-chip {
    flex: 1;
    padding: 0.25rem 0.7rem;
    text-align: center;
    white-space: nowrap;
    min-width: auto;
    position: relative;
    background: rgba(0, 0, 0, 0.02);
    backdrop-filter: blur(1px) saturate(180%);
    border: 1px solid rgba(250, 250, 250, 0.1);
    border-radius: 13px;
    box-shadow: 0 8px 32px rgba(31, 38, 105, 0.1), inset 0 6px 20px rgba(255, 255, 255, 0.013);
}

#game-logs-modal .gamelogs-summary-chip::after {

        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(255, 255, 255, 0.01);
        border-radius: 13px;
        backdrop-filter: blur(1px);
        box-shadow: inset 10px 12px 0px -8px rgba(255, 255, 255, .03),
        inset 0px 8px 0px -6px rgba(255, 255, 255, .031);
        opacity: 0.4;
        z-index: -1;
        filter: blur(1px) drop-shadow(10px 4px 6px black) brightness(100%);
        pointer-events: none;
}




#game-logs-modal .gamelogs-summary-chip h4 {
    font-size: 0.7rem;
    font-weight: 700;
    color: var(--color-text-secondary);
    margin-bottom: 0.1rem;
    text-transform: uppercase;
    border-bottom: 1px solid var(--color-panel-border);
    padding-bottom: 0.1rem;
    gap: 0.5rem;
}
#game-logs-modal .gamelogs-summary-chip .chip-header-value {
    font-size: 0.8rem;
}
#game-logs-modal .gamelogs-summary-chip .chip-values {
     display: flex;
    justify-content: center;
    align-items: center;
    gap: 0.00rem;
    font-size: 0.85rem;
    color: var(--color-text-primary);
    font-weight: 400;
}
#game-logs-modal .gamelogs-summary-chip .chip-separator {
    margin: 0 0.25rem;
}

    .chip-pos-rank-label {
        font-size: 0.85em;
        font-weight: 400;
        margin-top: 0.05rem;
    }

    .pos-rank-container {
        display: inline-flex;
        align-items: center;
    }

    .pos-color-QB { color: var(--color-text-secondary);}
    .pos-color-RB { color: var(--color-text-secondary);}
    .pos-color-WR { color: var(--color-text-secondary);}
    .pos-color-TE { color: var(--color-text-secondary);}
    
    .week-column-header {
        font-weight: 700;
        text-align: center;
    }

    #modal-body thead .week-column-header,
    #modal-body tbody .week-cell,
    #modal-body tfoot .week-column-header {
        color: #8f93ab;
        padding-right: 1px;
        padding-left: 1px;
    }

  #modal-body tbody .week-cell {
    font-weight: 700;
    text-align: center;
    white-space: nowrap;
    vertical-align: middle;
    padding: 0.05rem 0.2rem; /* tighter rows */
  }

  /* Game log week tag container */
  #game-logs-modal .gamelog-week-tag {
    --week-tag-w: 57px;
    --week-tag-h: 26px; /* reduced to keep compact with smaller inter-line gap */
    position: relative;
    display: inline-grid;
    align-items: center;
    justify-items: center;
    width: var(--week-tag-w);
    min-width: var(--week-tag-w);
    height: var(--week-tag-h);
    min-height: var(--week-tag-h);
    line-height: 1; /* normalize to avoid extra vertical space */
    border-radius: 4px;
    background: rgba(0, 0, 0, 0.02);
    -webkit-backdrop-filter: blur(1px) saturate(180%);
    backdrop-filter: blur(1px) saturate(180%);
    border: 1px solid rgba(250, 250, 250, 0.1);
    box-shadow: 0 8px 32px rgba(31, 38, 105, 0.10), inset 0 6px 20px rgba(255, 255, 255, 0.013);
  }
#game-logs-modal .gamelog-week-tag::after {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: 4px;
  background: rgba(255, 255, 255, 0.01);
  backdrop-filter: blur(1px);
  box-shadow: inset 10px 12px 0px -8px rgba(255, 255, 255, .05),
              inset 0px 8px 0px -6px rgba(255, 255, 255, .051);
  opacity: 0.4;
  z-index: -1;
  pointer-events: none;
}
#game-logs-modal .unplayed-week-row .gamelog-week-tag {
  opacity: 0.52;
}
#game-logs-modal .live-week-row .gamelog-week-tag {
  opacity: 1;
}

  /* Top line: WK-# */
  #game-logs-modal .gamelog-week-tag-number {
    font-size: 0.6rem; /* touch smaller but larger than opponent */
    font-weight: 700;
    color: #8f93ab;
    margin: 0;
  }

  /* Bottom line: opponent • rank */
  #game-logs-modal .gamelog-week-tag-opponent {
    font-size: 0.5rem; /* smaller than WK line */
    font-weight: 600;
    display: inline-flex;
       align-items: baseline;
    justify-content: center;
    gap: 0.05rem;
    margin: 0; /* no extra vertical space */
  }

  #game-logs-modal .gamelog-week-tag-opponent-text {
    display: inline-block;
  }

  #game-logs-modal .gamelog-week-tag-separator {
    color: #8f93ab;
    opacity: 0.6;
    margin: 0px 1px;
  }

  #game-logs-modal .gamelog-week-tag-rank {
    display: inline-flex;
    align-items: baseline; /* bottom-align number and suffix */
    font-size: 0.5rem;
  }

  #game-logs-modal .gamelog-week-tag-rank-number {
    font-size: 0.95em; /* explicit for clarity */
    font-weight: 400;
  }

  #game-logs-modal .gamelog-week-tag-rank-suffix {
    font-size: 0.9em; /* relative to number (0.9 of 0.5rem = 0.45rem) */
    font-weight: 400;

  }

  .week-cell .week-number,
  .week-opponent-label {
    display: inline-block;
    vertical-align: middle;
  }

  .week-opponent-separator {
    display: inline-block;
    margin: 0 0.15rem;
    color: inherit;
    opacity: 0.7;
  }

  .week-opponent-label {
    /* Keep the label at the cell's base font size so annotations scale the same
       as other stat annotations across the table. Previous fixed sizing caused
       the annotation to appear mismatched. */
    font-size: .5rem;
    line-height: 1;
    margin-top: 0;
    font-weight: 600;
    display: inline-flex;
    align-items: center; /* vertically center annotation and label */
    gap: 0.01rem;
  }
  /* Make the opponent rank annotation inline, centered, and wrapped in parentheses
     without affecting other stat-rank annotations elsewhere. Keep sizing identical
     to the general .has-rank-annotation rule. */
  .week-opponent-label .stat-rank-annotation {
   /* Restore the original compact sizing and importance that was used
     for week label annotations. Keep transform cleared so it sits
     vertically centered next to the opponent label. This selector
     intentionally targets only the opponent instance. */
   display: inline-block;
   font-size: 0.5rem !important;
   line-height: 1;
   margin-left: 0.12em !important;
   transform: translateY(-0.15em) !important; /* ensure no upward offset */
   font-weight: 400 !important;
  }

/* · · Table Footer · · */
    .modal-table-footer-label {
        line-height: 1.1;
        padding-top: 0.3rem;
        padding-bottom: 0rem;
    }
    .modal-table-footer-label .season-label{
        margin-top: 4px;
        font-size: 1.1em;   /* tweak */
        color: var(--color-text-secondary);
        }


    .modal-table-footer-label .gp-label {
        font-size: 0.85em;
        color: var(--color-text-tertiary);
        display: block;
        margin-top: 2px;
    }

/* · · Unplayed and Bye Week Row Styles · · */
#modal-body tbody tr.unplayed-week-row {
  opacity: 0.82;
}

#modal-body tbody tr.unplayed-week-row td {
  color: #a3a9cf;
}

#modal-body tbody tr.bye-week-row {
    opacity: 0.42;
}

#modal-body tbody tr.bye-week-row td {
  color: #a3a9cf;
}

/* Footer stat: stack rank annotation directly below value with minimal spacing */
#game-logs-modal tfoot td.has-rank-annotation { 
  vertical-align: bottom;
  padding-bottom: 0rem;
  padding-top: 0.2rem;
 }
#game-logs-modal tfoot td.has-rank-annotation .stat-value { 
  display: block; 
  line-height: 1.08; 
  margin-bottom: 0.2rem;
  font-size: 0.72rem;
  font-weight: 500; 
}
#game-logs-modal td.proj-cell {
  color: rgba(175, 181, 211, 0.68);
  font-style: italic;
  font-size: 0.85em;
}
#game-logs-modal tfoot td.has-rank-annotation .stat-rank-annotation {
  display: block;
  line-height: 1;
  margin-top: 0.02rem;
  white-space: nowrap;
  font-size: 0.6rem;
  text-align: center;
}
#game-logs-modal tfoot td.has-rank-annotation .stat-rank-annotation--bulleted {
  text-align: center;
}
#game-logs-modal tfoot td.has-rank-annotation .stat-rank-bullet {
  display: inline-block;
  font-size: 0.75em;
  opacity: 0.7;
  margin: 0 0.05rem;
}

/* Divider between completed and upcoming weeks */
#game-logs-modal tbody tr.week-divider-row td { 
padding: 0.15rem 0rem 0rem 0rem;
}
#game-logs-modal tbody tr.week-divider-row td::before {
  content: "";
  display: block;
  height: 1px;
      background: linear-gradient(90deg, rgba(160, 170, 210, 0.04), rgba(160, 170, 210, 0.1), rgba(160, 170, 210, 0.05), rgba(160, 170, 210, 0.1), rgba(160, 170, 210, 0.07));

}

.modal-footer {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.2em;
    margin-top: 0.35rem;
    margin-bottom: 0.15rem;
    font-size: 0.75rem;
    line-height:0.75rem;
    color: var(--color-text-tertiary);
    cursor: pointer;
    transition: color 0.2s ease;
}

.modal-footer:hover {
    color: var(--color-text-primary);
}

#player-comparison-modal .modal-footer {
    margin-top: 0.25rem;
    margin-bottom: 0.05rem;
}

.modal-info-btn {
    font-size: 0.8rem;
    line-height: 0.8rem; /* Keep icon slightly larger than text */
}

.modal-info-btn:hover {
    color: var(--color-text-primary);
}

/* ⬇︎  MENU BUTTON AND DROPDOWN  ⬇︎ */
.menu-container {
    position: relative;
    display: inline-block;
}

.menu-button {
    background: transparent;
    border: none;
    cursor: pointer;
    padding: 0.25rem 0.25rem;
    display: flex;
    align-items: center;
    justify-content: center;
}

.menu-button svg {
    fill: var(--color-text-secondary);
}

.menu-button:hover svg {
    fill: var(--color-text-primary);
}

.dropdown-menu {
    position: absolute;
    top: 100%;
    left: 0;
    background-color: rgba(11, 15, 28, 0.94);
    border: 1px solid var(--color-panel-border);
    border-radius: var(--card-border-radius);
    padding: 0.4rem 0.5rem;
    display: flex;
    flex-direction: column;
    gap: 0.35rem;
    z-index: 20;
    min-width: 210px;
    box-shadow: 0 12px 32px rgba(5, 7, 15, 0.5);
    backdrop-filter: blur(8px) saturate(130%);
}

.dropdown-menu a {
    color: var(--color-text-secondary);
    text-decoration: none;
    padding: 0.35rem 0.55rem;
    border-radius: var(--card-border-radius);
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-weight: 500;
    white-space: nowrap;
}

.dropdown-menu a i {
    color: inherit;
    font-size: 1.05rem;
    min-width: 1.1rem;
    text-align: center;
}

.dropdown-menu a:hover {
    background-color: var(--color-panel-bg);
    color: var(--color-text-primary);
}

.dropdown-menu.hidden {
    display: none;
}


#filters-row {
    justify-content: space-around;
    align-items: center;
    gap: 0.75rem;
    flex-wrap: nowrap;
}

.filters-container {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin-left: 4px;
}

.research-button-container {
    display: flex;
    align-items: center;
    justify-content: center;
    width: max(var(--header-icon-size), 2.6rem);
    height: var(--header-control-height);
    flex-shrink: 0;
}

.research-button {
    border: none;
    background: transparent;
    color: var(--color-text-secondary);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 0.1rem;
    padding: 0;
    margin-top: 5px;
    text-shadow: 0 0 2px #6900ffdd;
}

.research-button .analyzer-icon {
    font-size: 1.1rem;
}

.research-button .analyzer-label {
    font-size: 0.5rem;
    font-weight: 400;
    color: inherit;
    white-space: nowrap;
}
#clearFiltersButton {
    display: flex;
    align-items: center;
    justify-content: center;
    margin-left: -0.1rem;   /* small space on the left  */
    margin-right: 0.27rem;  /* larger space on the right */
    text-decoration: none;
}

#clearFiltersButton .clear-filters-stack {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    line-height: 1;
}

.filter-btn[data-position="STAR"] i {
    font-size: 0.75rem;
}

.filter-btn.active[data-position="STAR"] {
    color: var(--color-accent-primary);
    box-shadow: inset 0 0 7px var(--color-accent-primary-glow);
}

#clearFiltersButton i {
    display: block;
    margin-top: 4px;
    font-size: 0.8rem;
    line-height: 1;
}

.compare-controls .compare-search-toggle i {
    font-size: 1.1rem;
}

.compare-controls {
    position: relative;
}

.compare-search-toggle {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    min-width: 34px;
    min-height: 34px;
    padding: 6px;
    border-radius: 999px;
    border: 1px solid var(--color-panel-border);
    background: rgba(22, 24, 43, 0.05);
    box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.08), 0 4px 12px rgba(0, 0, 0, 0.25);
    backdrop-filter: blur(1px);
    color: var(--color-text-secondary);
    line-height: 1;
    transition: color .2s ease, border-color .2s ease, background .2s ease;
}

.compare-search-toggle:hover,
.compare-search-toggle:focus-visible {
    color: var(--color-text-primary);
    border-color: var(--color-panel-border-glow);
    background: rgba(22, 24, 43, 0.45);
}

.compare-search-toggle:focus-visible {
    outline: 2px solid rgba(118, 109, 255, 0.25);
    outline-offset: 2px;
}

.compare-search-popover {
    position: absolute;
    top: 100%;
    right: 0;
    margin-top: 6px;
    z-index: 50;
    width: 210px;
    padding: 0px 0px 0px;
    border: 1px solid var(--color-panel-border);
        background: rgba(25, 27, 40, 0.95);
    border-radius: 10px;
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.35), inset 0 1px 0 rgba(255, 255, 255, 0.05);
    backdrop-filter: blur(40px);
    transition: opacity .15s ease, transform .15s ease;
    opacity: 0;
    transform: translateY(-4px);
}

.compare-search-popover:not(.hidden) {
    opacity: 1;
    transform: translateY(0);
}

.compare-search-close {
    position: absolute;
    top: -10px;
    right: -13px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 28px;
    height: 28px;
    border: none;
    border-radius: 50%;
    background: transparent;
    color: var(--color-text-tertiary);
    cursor: pointer;
    transition: color .15s ease, transform .15s ease;
}

.compare-search-close i {
    font-size: 1.05rem;
    pointer-events: none;
}

.compare-search-close:hover,
.compare-search-close:focus-visible {
    color: var(--color-text-primary);
    transform: scale(1.05);
}

.compare-search-close:focus-visible {
    outline: 2px solid rgba(255, 255, 255, 0.25);
    outline-offset: 2px;
}

.compare-search-hidden {
    display: none !important;
}

#compareSearchInput {
    width: 100%;
    margin-top: 0px;
    padding: 5px 12px;
    font-size: 1rem;
    color: var(--color-text-primary);
    background: rgba(18, 22, 40, 0.85);
border: 1px solid rgb(169 178 227 / 9%);
    border-radius: 10px;
    outline: none;
    box-shadow: 0 0 8px 2px #10102044;
}

#compareSearchInput::placeholder {
    color: #9096C0;
}

@media (max-width: 640px) {
    .filters-container {
        position: relative;
    }

    .compare-controls {
        position: static;
    }

    .compare-search-popover {
        top: 83%;
        left: 50%;
        right: auto;
        margin-top: 0;
        width: min(92vw, 320px);
        transform: translate(-50%, -56%);
    }

    .compare-search-popover:not(.hidden) {
        transform: translate(-50%, -50%);
    }
}

#clearFiltersButton .clear-filters-label {
    display: block;
    margin-top: 2px;
    font-size: 0.5rem;
    font-weight: 500;
    line-height: 1;
}

.team-header-item .team-name {
    min-width: 0;
    max-width: 100%;
    width: 100%;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    text-align: center;
    justify-self: center;
}

/* ⬇︎ PLAYER-COMP MODAL ⬇︎ */
#player-comparison-modal .modal-content {
    padding: 0.5rem 0.8rem;
}

#player-comparison-modal .modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding-bottom: 0.2rem;
    border-bottom: 1px solid var(--color-panel-border);
}

#player-comparison-modal .player-comparison-table {
    width: 100%;
    border-collapse: collapse;
    font-size: 0.75rem;
    margin-top: 0.5rem;
}

#player-comparison-modal .player-comparison-table th,
#player-comparison-modal .player-comparison-table td {
    padding: 0.1rem 0.2rem;
    text-align: center;
}

#player-comparison-modal .player-comparison-table thead th {
    font-weight: 600;
    color: var(--color-text-secondary);
    border-bottom: 1px solid var(--color-panel-border);
}

.player-comparison-table .player-header {
    width: 30%;
}

.player-comparison-table .stat-header {
    width: 40%;
    font-weight: 700;
    color: var(--color-text-primary);
}

.player-comparison-table--two-player .player-header {
    width: 37%;
}

.player-comparison-table--two-player .stat-header {
    width: 26%;
}

.player-comparison-table td.stat-label-cell {
    text-align: left;
    font-weight: 500;
    color: var(--color-text-secondary);
    padding-left: 0.5rem;
}

.player-comparison-table td.player-stat-cell {
    font-weight: 400;
    color: var(--color-text-primary);
}

.player-comparison-table .stat-row.highlight-row {
    background-color: rgba(255, 255, 255, 0.03);
}

.player-comparison-table .best-stat {
    color: var(--color-accent-trade-win);
    font-weight: 700;
}

.player-comparison-table .worse-stat {
    opacity: 0.7;
}

#player-comparison-modal .comparison-summary-chips-row {
    display: flex;
    justify-content: center;
    gap: 1rem;
    padding: 0.5rem 0;
    flex-wrap: wrap;
}

#player-comparison-modal .summary-chips-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.5rem;
}

#player-comparison-modal .summary-chips-container h4 {
    font-size: 0.8rem;
    font-weight: 600;
    color: var(--color-text-secondary);
    margin: 0;
}

#player-comparison-modal .summary-chips {
    display: flex;
    gap: 0.5rem;
}

#comparison-modal-header h3 {
        font-size: 1.1rem;
        font-weight: 400;
        color: var(--color-text-primary);
        text-shadow: 
          0 0 4px rgba(43, 0, 255, 0.7),
          0 0 7px rgba(73, 0, 255, 0.4);
    }
    
       #comparison-modal-header h3 i {
        color: var(--color-text-secondary);
          text-shadow:
            0 0 3px rgba(43, 0, 255, 0.7),
            0 0 6px rgba(73, 0, 255, 0.6),
            0 0 12px rgba(103, 0, 255, 0.5);
        }
   
       
    #player-comparison-modal .modal-close-btn {
        margin-bottom: 3px;
        margin-top: -6px;
}

    .game-log-link {
        cursor: pointer;
        font-size: 0.8rem;
        color: #9096C0fb;
        text-decoration: underline;
        text-decoration-color: #9096D0af;    
    }
     .game-log-link:hover {
        color: #a3c7f9;
    }
    
     /* · · Key  · · */
    #comparison-stats-key-container {
        position: absolute;
        bottom: 45px;
        left: 1rem;
        right: 1rem;
        max-height: calc(100% - 150px);
        overflow-y: auto;
        background: rgba(13, 14, 27, 0.95);
        padding: 1rem;
        border: 1px solid #444;
        z-index: 102;
        border-radius: var(--card-border-radius);
    }
    
    #comparison-stats-key-container h4 {
        font-size: 1.1rem;
        font-weight: 700;
        color: var(--color-text-primary);
        margin: 0 0 0.5rem 0;
        text-align: center;
    }
    
    #comparison-stats-key-container ul {
        list-style: none;
        padding: 0;
        margin: 0;
        columns: 2;
        column-gap: 2rem;
    }
    
    #comparison-stats-key-container li {
        font-size: 0.85rem;
        color: var(--color-text-secondary);
        margin-bottom: 0.25rem;
    }
    
    #comparison-stats-key-container strong {
        color: var(--color-text-primary);
        font-weight: 600;
    }
       /* · · Key text color update · · */
    #player-comparison-modal .modal-footer .key-chip {
    color: #7076A0 ;
    } 
    #player-comparison-modal .modal-footer .key-chip:hover {
    color: var(--color-text-primary);
    }

    
    /* · · Compare button in trade preview · · */


        #comparePlayersButton.enabled  {
          opacity: 1.0;
        }        
        #comparePlayersButton.enabled i {
          text-shadow:
            0 0 4px rgba(43, 0, 255, 0.7),
            0 0 7px rgba(73, 0, 255, 0.55),
            0 0 12px rgba(103, 0, 255, 0.4);
        }
        #comparePlayersButton.enabled .label {
          text-shadow: 
          0 0 4px rgba(43, 0, 255, 0.6),
          0 0 7px rgba(73, 0, 255, 0.3);
          }

        #comparePlayersButton {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          gap: 0.125rem;                     /* no gap between icon & label */
          color: #8787AF;
          font-size: 1rem;          /* icon size */
          line-height: 1;             /* kill extra inline spacing */
          padding: 1px 8px;
          min-height: 0;
          opacity: 0.4;
          transition: opacity 0.1s ease-in-out;
          margin-right: 0px;
          margin-top: 3px;
          text-decoration: none;      /* remove underline on button */
        }
        
        /* Icon — block to remove baseline gap (covers FA <i> or SVG) */
        #comparePlayersButton i {
          display: block;
          margin: 0;
          line-height: 1;
        }
        
        /* Label — pulled up to touch icon */
        #comparePlayersButton .label {
          display: block;
          font-size: 0.55rem;
          font-weight: 500;
          line-height: 1;
          margin: 0;
          padding: 0;
          margin-top: -2px;           /* tweak to -1px/-3px if needed */
          text-decoration: none;
        }

        #comparePlayersButton:hover {
            color: var(--color-text-secondary);
            border-color: var(--color-panel-border-glow);
        }


    .player-name-header-container {
        flex: 1;
        text-align: center;
    }


@media (max-width: 768px) {
    #player-comparison-modal .modal-content {
        padding: 0.5rem;
        width: 98%;
        max-height: 90vh;
    }

    #player-comparison-modal .player-comparison-table {
        font-size: 0.7rem;
    }

    .player-comparison-table thead .stat-header {
        width: 22%;
    }

    .player-comparison-table thead .player-header {
        width: 35%;
    }

    .player-comparison-table--two-player thead .stat-header,
    .player-comparison-table--two-player td.stat-label-cell {
        width: 26%;
    }

    .player-comparison-table--two-player thead .player-header,
    .player-comparison-table--two-player td.player-stat-cell {
        width: 37%;
    }

    #player-comparison-modal .player-comparison-table th,
    #player-comparison-modal .player-comparison-table td {
        padding: 0.05rem;
    }

    #player-comparison-modal .comparison-summary-chips-row {
        gap: 0.8rem;
        padding: 0.25rem 0;
    }

    #player-comparison-modal .summary-chips-container {
        flex-grow: 1;
        flex-basis: 150px; /* Allow 2 chips per row on most phones */
    }



    #comparison-stats-key-container ul {
        columns: 1;
    }
}

/* Compact comparison list (replaces table view) */
#player-comparison-modal .comparison-list-container {
  padding: 0.25rem 0.5rem 0.8rem;
  overflow-y: auto;
}

#player-comparison-modal .comparison-list {
  display: flex;
  flex-direction: column;
  gap: 0.1rem;
}

#player-comparison-modal .comparison-row {
  display: grid;
  grid-template-columns: 60px 1fr 60px;
  align-items: center;
  gap: 0.4rem;
  padding: 0.4rem;
  border-radius: 8px;
  background: linear-gradient(180deg, rgba(255,255,255,0.09), rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border: 1px solid rgba(128,138,189,0.1);
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.03), 0 4px 12px rgba(0,0,0,0.2);
}

#player-comparison-modal .comparison-left,
#player-comparison-modal .comparison-right {
  font-weight: 400;
  font-size: 1.05rem; /* larger stat value */
  text-align: center;
  color: var(--color-text-secondary);
}

#player-comparison-modal .comparison-center {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.05rem;
}

#player-comparison-modal .comparison-label {
  font-size: 0.75rem;
  color: var(--color-text-secondary);
  font-weight: 500;
}

#player-comparison-modal .comparison-bar {
  width: 100%;
  height: 8px;
  border-radius: 999px;
  overflow: hidden;
  background: rgba(10, 12, 28, 0.3);
  display: flex;
  box-shadow: inset 0 1px 2px rgba(0,0,0,0.2);
}

#player-comparison-modal .comparison-bar-left {
  background: linear-gradient(to right, #52c2FFe0, rgba(82, 194, 255, 0.6));
}

#player-comparison-modal .comparison-bar-right {
  background: linear-gradient(to left, #00e7c0d0, rgba(0, 231, 192, 0.6));
}

#player-comparison-modal .comparison-bar-left.worse-stat-bar,
#player-comparison-modal .comparison-bar-right.worse-stat-bar {
  opacity: 0.35;
}

#player-comparison-modal .best-stat {
    color: var(--color-accent-trade-win) !important;
    text-shadow: 0 0 5px rgba(0, 245, 160, 0.5);
}

#player-comparison-modal .comparison-row .comparison-left.best-stat {
    color: var(--color-accent-secondary) !important;
    text-shadow: 0 0 5px rgba(66, 194, 255, 0.5);
}

@media (max-width: 520px) {
  #player-comparison-modal .comparison-row {
      grid-template-columns: 50px 1fr 50px;
      padding: 0.01rem  0.13rem 0.23rem 0.13rem;
      gap: 0.3rem;
    }
  /* slightly larger mobile font so stacked rank remains readable */
  #player-comparison-modal .comparison-left, #player-comparison-modal .comparison-right {font-size: 0.8rem;}
  #player-comparison-modal .comparison-label { font-size: 0.7rem; }
  #player-comparison-modal .comparison-bar { height: 7px; }
}

/*· · Team Logo Glow · · */

/* === Team Logo (20px tag) === */
img.team-logo{
  width:18px;
  height:18px;
  display:inline-block;
  vertical-align:middle;
  object-fit:contain;
  image-rendering:auto;
  border-radius:3px; /* subtle smoothing inside cards */
}


/* === Team Logo (20px tag) === */
img.team-logo{
  width:19px;
  height:19px;
  display:inline-block;
  vertical-align:middle;
  object-fit:contain;
  image-rendering:auto;
  border-radius:3px; /* subtle smoothing inside cards */
}


/* === Team Logo Glow (single-layer; relies on --glow-r3 & --team-glow) === */
img.team-logo.glow{
  width:19px;
  height:19px;
  object-fit:contain;
  vertical-align:middle;
  filter: drop-shadow(0 0 var(--glow-r3) var(--team-glow));
}


/* === TEAM LOGO GLOW (per-team via CSS variables) ======================
   Edit per-team color/opacity/radii below using the [alt="XXX"] blocks.
   - --team-glow : rgba color (includes alpha)
   - --glow-r1/2/3 : radii controlling how far the glow extends
====================================================================== */
img.team-logo.glow{
  width:19px;
  height:19px;
  object-fit:contain;
  vertical-align:middle;
  /* Defaults; can be overridden per team */
  --team-glow: rgba(0,0,0,0.94);
  --glow-r3: 3.2px;
  filter: drop-shadow(0 0 var(--glow-r3) var(--team-glow));
}


/* Per-team glow overrides (color + tweaked radius; single layer) */
img.team-logo.glow[alt="ARI"] {
  --team-glow: rgba(151, 35, 63, 0.95) !important;
  --glow-r3: 3.2px;
}
img.team-logo.glow[alt="ATL"] {
  --team-glow: rgba(255, 56, 95, 0.93) !important;
  --glow-r3: 3.0px;
}
img.team-logo.glow[alt="BAL"] {
  --team-glow: rgba(158, 43, 246, 0.95) !important;
  --glow-r3: 3.2px;
}
img.team-logo.glow[alt="BUF"] {
  --team-glow: rgba(198, 12, 48, 0.93) !important;
  --glow-r3: 3.2px;
}
img.team-logo.glow[alt="CAR"] {
  --team-glow: rgba(0, 133, 202, 0.95) !important;
  --glow-r3: 3.2px;
}
img.team-logo.glow[alt="CHI"] {
  --team-glow: rgba(120, 90, 240, 0.93) !important;
  --glow-r3: 3.2px;
}
img.team-logo.glow[alt="CIN"] {
  --team-glow: rgba(251, 79, 20, 0.95) !important;
  --glow-r3: 3.2px;
}
img.team-logo.glow[alt="CLE"] {
  --team-glow: rgba(225, 135, 0, 0.68) !important;
  --glow-r3: 2.4px;
}
img.team-logo.glow[alt="DAL"] {
  --team-glow: rgba(134, 147, 151, 0.86) !important;
  --glow-r3: 2.4px;
}
img.team-logo.glow[alt="DEN"] {
  --team-glow: rgba(251, 79, 20, 0.93) !important;
  --glow-r3: 3.2px;
}
img.team-logo.glow[alt="DET"] {
  --team-glow: rgba(0, 183, 235, 0.86) !important;
  --glow-r3: 2.8px;
}
img.team-logo.glow[alt="GB"] {
  --team-glow: rgba(0, 235, 150, 0.68) !important;
  --glow-r3: 2.4px;
}
img.team-logo.glow[alt="HOU"] {
  --team-glow: rgba(167, 25, 48, 0.95) !important;
  --glow-r3: 3.2px;
}
img.team-logo.glow[alt="IND"] {
  --team-glow: rgba(0, 183, 235, 0.93) !important;
  --glow-r3: 2.4px;
}
img.team-logo.glow[alt="JAX"] {
  --team-glow: rgba(0, 103, 120, 0.95) !important;
  --glow-r3: 3.2px;
}
img.team-logo.glow[alt="KC"] {
  --team-glow: rgba(255, 0, 64, 0.84) !important;
  --glow-r3: 2.6px;
}
img.team-logo.glow[alt="LAC"] {
  --team-glow: rgba(0, 191, 255, 0.74) !important;
  --glow-r3: 3.2px;
}
img.team-logo.glow[alt="LAR"] {
  --team-glow: rgba(0, 91, 200, 0.93) !important;
  --glow-r3: 2.6px;
}
img.team-logo.glow[alt="LV"] {
  --team-glow: rgba(165, 172, 175, 0.86) !important;
  --glow-r3: 2.8px;
}
img.team-logo.glow[alt="MIA"] {
  --team-glow: rgba(0, 142, 151, 0.93) !important;
  --glow-r3: 2.8px;
}
img.team-logo.glow[alt="MIN"] {
  --team-glow: rgba(115, 0, 255, 0.95) !important;
  --glow-r3: 3.0px;
}
img.team-logo.glow[alt="NE"] {
  --team-glow: rgba(255, 56, 95, 0.93) !important;
  --glow-r3: 3.2px;
}
img.team-logo.glow[alt="NO"] {
  --team-glow: rgba(160, 148, 101, 0.86) !important;
  --glow-r3: 2.6px;
}
img.team-logo.glow[alt="NYG"] {
  --team-glow: rgba(55, 56, 200, 0.95) !important;
  --glow-r3: 3.2px;
}
img.team-logo.glow[alt="NYJ"] {
  --team-glow: rgba(64, 160, 120, 0.95) !important;
  --glow-r3: 3.2px;
}
img.team-logo.glow[alt="PHI"] {
  --team-glow: rgba(43, 140, 78, 0.95) !important;
  --glow-r3: 2.6px;
}
img.team-logo.glow[alt="PIT"] {
  --team-glow: rgba(255, 182, 18, 0.61) !important;
  --glow-r3: 2.4px;
}
img.team-logo.glow[alt="SEA"] {
  --team-glow: rgba(105, 190, 40, 0.86) !important;
  --glow-r3: 2.4px;
}
img.team-logo.glow[alt="SF"] {
  --team-glow: rgba(179, 153, 93, 0.74) !important;
  --glow-r3: 2.6px;
}
img.team-logo.glow[alt="TB"] {
  --team-glow: rgba(247, 122, 97, 0.74) !important;
  --glow-r3: 2.4px;
}
img.team-logo.glow[alt="TEN"] {
  --team-glow: rgba(75, 146, 219, 0.95) !important;
  --glow-r3: 3.2px;
}
img.team-logo.glow[alt="WAS"] {
  --team-glow: rgba(180, 36, 36, 0.95) !important;
  --glow-r3: 3.2px;
}


/* · · Team Tags in Game Log · · */
/*  =====================================================================
     CHIP-ONLY PER-TEAM GLOW OVERRIDES 
     Scope: affects logos only inside .player-tag.modal-team-logo-chip
    ====================================================================== */

.player-tag.modal-team-logo-chip img.team-logo.glow[alt="ARI"] {
  --team-glow: rgba(151, 35, 63, 0.95) !important;
  --glow-r3: 3.2px;
}
.player-tag.modal-team-logo-chip img.team-logo.glow[alt="ATL"] {
  --team-glow: rgba(255, 56, 95, 0.93) !important;
  --glow-r3: 3.0px;
}
.player-tag.modal-team-logo-chip img.team-logo.glow[alt="BAL"] {
  --team-glow: rgba(158, 43, 246, 0.95) !important;
  --glow-r3: 3.2px;
}
.player-tag.modal-team-logo-chip img.team-logo.glow[alt="BUF"] {
  --team-glow: rgba(198, 12, 48, 0.93) !important;
  --glow-r3: 3.2px;
}
.player-tag.modal-team-logo-chip img.team-logo.glow[alt="CAR"] {
  --team-glow: rgba(0, 133, 202, 0.95) !important;
  --glow-r3: 3.2px;
}
.player-tag.modal-team-logo-chip img.team-logo.glow[alt="CHI"] {
  --team-glow: rgba(120, 90, 240, 0.93) !important;
  --glow-r3: 3.2px;
}
.player-tag.modal-team-logo-chip img.team-logo.glow[alt="CIN"] {
  --team-glow: rgba(251, 79, 20, 0.95) !important;
  --glow-r3: 3.2px;
}
.player-tag.modal-team-logo-chip img.team-logo.glow[alt="CLE"] {
  --team-glow: rgba(225, 135, 0, 0.68) !important;
  --glow-r3: 2.4px;
}
.player-tag.modal-team-logo-chip img.team-logo.glow[alt="DAL"] {
  --team-glow: rgba(134, 147, 151, 0.86) !important;
  --glow-r3: 2.4px;
}
.player-tag.modal-team-logo-chip img.team-logo.glow[alt="DEN"] {
  --team-glow: rgba(251, 79, 20, 0.93) !important;
  --glow-r3: 3.2px;
}
.player-tag.modal-team-logo-chip img.team-logo.glow[alt="DET"] {
  --team-glow: rgba(0, 183, 235, 0.86) !important;
  --glow-r3: 2.8px;
}
.player-tag.modal-team-logo-chip img.team-logo.glow[alt="GB"] {
  --team-glow: rgba(0, 235, 150, 0.68) !important;
  --glow-r3: 2.4px;
}
.player-tag.modal-team-logo-chip img.team-logo.glow[alt="HOU"] {
  --team-glow: rgba(167, 25, 48, 0.95) !important;
  --glow-r3: 3.2px;
}
.player-tag.modal-team-logo-chip img.team-logo.glow[alt="IND"] {
  --team-glow: rgba(0, 183, 235, 0.93) !important;
  --glow-r3: 2.4px;
}
.player-tag.modal-team-logo-chip img.team-logo.glow[alt="JAX"] {
  --team-glow: rgba(0, 103, 120, 0.95) !important;
  --glow-r3: 3.2px;
}
.player-tag.modal-team-logo-chip img.team-logo.glow[alt="KC"] {
  --team-glow: rgba(255, 0, 64, 0.84) !important;
  --glow-r3: 2.6px;
}
.player-tag.modal-team-logo-chip img.team-logo.glow[alt="LAC"] {
  --team-glow: rgba(0, 191, 255, 0.74) !important;
  --glow-r3: 3.2px;
}
.player-tag.modal-team-logo-chip img.team-logo.glow[alt="LAR"] {
  --team-glow: rgba(0, 91, 200, 0.93) !important;
  --glow-r3: 2.6px;
}
.player-tag.modal-team-logo-chip img.team-logo.glow[alt="LV"] {
  --team-glow: rgba(165, 172, 175, 0.86) !important;
  --glow-r3: 2.8px;
}
.player-tag.modal-team-logo-chip img.team-logo.glow[alt="MIA"] {
  --team-glow: rgba(0, 142, 151, 0.93) !important;
  --glow-r3: 2.8px;
}
.player-tag.modal-team-logo-chip img.team-logo.glow[alt="MIN"] {
  --team-glow: rgba(115, 0, 255, 0.95) !important;
  --glow-r3: 3.0px;
}
.player-tag.modal-team-logo-chip img.team-logo.glow[alt="NE"] {
  --team-glow: rgba(255, 56, 95, 0.93) !important;
  --glow-r3: 3.2px;
}
.player-tag.modal-team-logo-chip img.team-logo.glow[alt="NO"] {
  --team-glow: rgba(160, 148, 101, 0.86) !important;
  --glow-r3: 2.6px;
}
.player-tag.modal-team-logo-chip img.team-logo.glow[alt="NYG"] {
  --team-glow: rgba(55, 56, 200, 0.95) !important;
  --glow-r3: 3.2px;
}
.player-tag.modal-team-logo-chip img.team-logo.glow[alt="NYJ"] {
  --team-glow: rgba(64, 160, 120, 0.95) !important;
  --glow-r3: 3.2px;
}
.player-tag.modal-team-logo-chip img.team-logo.glow[alt="PHI"] {
  --team-glow: rgba(43, 140, 78, 0.95) !important;
  --glow-r3: 2.6px;
}
.player-tag.modal-team-logo-chip img.team-logo.glow[alt="PIT"] {
  --team-glow: rgba(255, 182, 18, 0.61) !important;
  --glow-r3: 2.4px;
}
.player-tag.modal-team-logo-chip img.team-logo.glow[alt="SEA"] {
  --team-glow: rgba(105, 190, 40, 0.86) !important;
  --glow-r3: 2.4px;
}
.player-tag.modal-team-logo-chip img.team-logo.glow[alt="SF"] {
  --team-glow: rgba(179, 153, 93, 0.74) !important;
  --glow-r3: 2.6px;
}
.player-tag.modal-team-logo-chip img.team-logo.glow[alt="TB"] {
  --team-glow: rgba(247, 122, 97, 0.74) !important;
  --glow-r3: 2.4px;
}
.player-tag.modal-team-logo-chip img.team-logo.glow[alt="TEN"] {
  --team-glow: rgba(75, 146, 219, 0.95) !important;
  --glow-r3: 3.2px;
}
.player-tag.modal-team-logo-chip img.team-logo.glow[alt="WAS"] {
  --team-glow: rgba(180, 36, 36, 0.95) !important;
  --glow-r3: 3.2px;
}


/* · · Modal Layout Fit · · */
#player-comparison-modal {
  position: fixed;
  inset: 0;
  z-index: 15;            /* below #tradeSimulator (20), above header (10) */
  display: block;         /* don't center via flex */
  pointer-events: none;   /* allow clicks only on content panel */
  background: transparent;/* no backdrop for this modal */
}
#player-comparison-modal .modal-overlay {
  display: none;          /* hide dim overlay for this modal */
}
#player-comparison-modal .modal-content {
  position: fixed;        /* we’ll set top/height via JS in openComparisonModal() */
  left: 0.85rem;
  right: 0.85rem;
  margin: 0 auto;
  max-width: 800px;
  width: auto;
  max-height: none;       /* height is managed by JS */
  overflow: auto;         /* scroll inside if needed */
  transform: none;        /* no scale animation */
  opacity: 1;
  pointer-events: auto;   /* clickable */
  padding-bottom: 0.05rem;
}

/* · · Overlay · · */

#comparison-modal-background-overlay {
    position: fixed;
    inset: 0;
    background-color: rgba(0, 0, 0, 0.2);
    z-index: 9; /* Below header (10) but above main content */
}

/* · · ✦ Modal BG, Blur, and Styling · · */
 #player-comparison-modal .modal-content {
    /* keep your existing layout props */
    border-radius: 9px;
      border: 1px solid rgba(250, 250, 250, 0.05);
      background-color: rgba(13, 14, 35, 0.18);
    
      -webkit-backdrop-filter: blur(6px) saturate(110%) brightness(110%);
      backdrop-filter: blur(6px) saturate(110%) brightness(110%);
    
      box-shadow: 0 8px 32px rgba(31, 38, 85, 0.15), inset 0 6px 20px rgba(255, 255, 255, 0.013), inset 0 0 4px #fff1;
      /* create a local stacking context so the ::after sits correctly */
      isolation: isolate;
    }
    
/* Highlight sheen layer (same as your .modal-body::after) */
#player-comparison-modal .modal-content::after {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: 9px;
    background-color: rgba(13,14,35,0.18);
    
    -webkit-backdrop-filter: blur(6px) saturate(110%) brightness(110%);
    backdrop-filter: blur(6px) saturate(110%) brightness(110%);
    box-shadow: inset 10px 12px 0px -8px rgba(255, 255, 255, .05), inset 0px 8px 0px -6px rgba(255, 255, 255, .051);
    opacity: 0.1;
    filter: blur(6px) drop-shadow(10px 4px 10px black) brightness(110%);
    pointer-events: none;
}

